define("spectre-canjs@4.2.4#sp-form/demo/full/full.stache!steal-stache@5.0.0#steal-stache",["module","can-assign","can-stache","can-stache/src/mustache_core","can-view-scope","can-view-import@5.0.0#can-view-import","can-stache-bindings@5.0.4#can-stache-bindings"],function(e,n,t,r,a,i,s){t.addBindings(s);var o=t("sp-form/demo/full/full.stache",[{tokenType:"start",args:["div",!1,1]},{tokenType:"attrStart",args:["class",1]},{tokenType:"attrValue",args:["container",1]},{tokenType:"attrEnd",args:["class",1]},{tokenType:"end",args:["div",!1,1]},{tokenType:"chars",args:["\n    ",1]},{tokenType:"start",args:["h1",!1,2]},{tokenType:"end",args:["h1",!1,2]},{tokenType:"chars",args:["Form Widget Demo",2]},{tokenType:"close",args:["h1",2]},{tokenType:"chars",args:["\n    ",2]},{tokenType:"start",args:["div",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["columns",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"end",args:["div",!1,3]},{tokenType:"chars",args:["\n        ",3]},{tokenType:"start",args:["div",!1,4]},{tokenType:"attrStart",args:["class",4]},{tokenType:"attrValue",args:["col-6 col-sm-12 container",4]},{tokenType:"attrEnd",args:["class",4]},{tokenType:"end",args:["div",!1,4]},{tokenType:"chars",args:["\n            ",4]},{tokenType:"start",args:["sp-form",!1,5]},{tokenType:"attrStart",args:["object:bind",5]},{tokenType:"attrValue",args:["object",5]},{tokenType:"attrEnd",args:["object:bind",5]},{tokenType:"attrStart",args:["dirty:u:object:to",5]},{tokenType:"attrValue",args:["dirtyObject",5]},{tokenType:"attrEnd",args:["dirty:u:object:to",5]},{tokenType:"attrStart",args:["actions:from",5]},{tokenType:"attrValue",args:["actions",5]},{tokenType:"attrEnd",args:["actions:from",5]},{tokenType:"attrStart",args:["on:submit",5]},{tokenType:"attrValue",args:["onSubmit(scope.arguments)",5]},{tokenType:"attrEnd",args:["on:submit",5]},{tokenType:"attrStart",args:["is:u:saving:bind",5]},{tokenType:"attrValue",args:["formSaving",5]},{tokenType:"attrEnd",args:["is:u:saving:bind",5]},{tokenType:"attrStart",args:["on:cancel",5]},{tokenType:"attrValue",args:["onCancel",5]},{tokenType:"attrEnd",args:["on:cancel",5]},{tokenType:"end",args:["sp-form",!1,11]},{tokenType:"close",args:["sp-form",11]},{tokenType:"chars",args:["\n        ",11]},{tokenType:"close",args:["div",12]},{tokenType:"chars",args:["\n        ",12]},{tokenType:"start",args:["div",!1,13]},{tokenType:"attrStart",args:["class",13]},{tokenType:"attrValue",args:["col-6 col-sm12 container",13]},{tokenType:"attrEnd",args:["class",13]},{tokenType:"end",args:["div",!1,13]},{tokenType:"chars",args:["\n            \n            ",13]},{tokenType:"start",args:["p",!1,15]},{tokenType:"end",args:["p",!1,15]},{tokenType:"chars",args:["Model object values: ",15]},{tokenType:"close",args:["p",15]},{tokenType:"chars",args:["\n            ",15]},{tokenType:"start",args:["div",!1,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["json",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"end",args:["div",!1,16]},{tokenType:"special",args:["{stringify (object)",16]},{tokenType:"close",args:["div",16]},{tokenType:"chars",args:["\n            ",16]},{tokenType:"start",args:["div",!0,17]},{tokenType:"attrStart",args:["class",17]},{tokenType:"attrValue",args:["divider",17]},{tokenType:"attrEnd",args:["class",17]},{tokenType:"end",args:["div",!0,17]},{tokenType:"chars",args:["\n\n            ",17]},{tokenType:"start",args:["p",!1,19]},{tokenType:"end",args:["p",!1,19]},{tokenType:"chars",args:["Dirty field values",19]},{tokenType:"close",args:["p",19]},{tokenType:"chars",args:["\n            ",19]},{tokenType:"start",args:["div",!1,20]},{tokenType:"attrStart",args:["class",20]},{tokenType:"attrValue",args:["json",20]},{tokenType:"attrEnd",args:["class",20]},{tokenType:"end",args:["div",!1,20]},{tokenType:"special",args:["{stringify (dirtyObject)",20]},{tokenType:"close",args:["div",20]},{tokenType:"chars",args:["\n        ",20]},{tokenType:"close",args:["div",21]},{tokenType:"chars",args:["\n    ",21]},{tokenType:"close",args:["div",22]},{tokenType:"chars",args:["\n",22]},{tokenType:"close",args:["div",23]},{tokenType:"done",args:[23]}]),u=Array.prototype.slice.call(arguments,7);return function(t,r,i){var s=n({},r),c=[].reduce(function(e,n,t){return e[n]=u[t],e},{});t instanceof a||(t=new a(t));var l=t.getScope(function(e){return!0===e._meta.variable});return l||(l=t=t.addLetContext()),n(l._context,{module:e,tagImportMap:c}),o(t,s,i)}}),define("can-key@1.2.1#delete/delete",["require","exports","module","can-reflect","../utils"],function(e,n,t){"use strict";var r=e("can-reflect"),a=e("../utils");t.exports=function(e,n){for(var t=a.parts(n),i=e,s=0;s<t.length-1;s++)i&&(i=r.getKeyValue(i,t[s]));i&&r.deleteKeyValue(i,t[t.length-1])}}),define("can-key@1.2.1#sub/sub",["require","exports","module","../utils","../get/get","can-reflect","../delete/delete"],function(e,n,t){"use strict";var r=e("../utils"),a=e("../get/get"),i=e("can-reflect"),s=e("../delete/delete");t.exports=function(e,n,t){var o=[];return e=e||"",o.push(e.replace(r.strReplacer,function(e,r){var u=a(n,r);return!0===t&&s(n,r),null==u?(o=null,""):!i.isPrimitive(u)&&o?(o.push(u),""):""+u})),null===o?o:o.length<=1?o[0]:o}}),define("can-query-logic@1.2.2#src/set",["require","exports","module","can-symbol","can-reflect"],function(e,n,t){var r,a=e("can-symbol"),i=e("can-reflect"),s=function(e){return i.assignSymbols(e,{"can.serialize":function(){return this}})};function o(e){return function(n,t){return e.call(this,t,n)}}var u=a.for("can.setComparisons");function c(e,n,t){var r=e[u];e[u]||(r=e[u]=new Map);var a=r.get(e);a||(a=new Map,r.set(e,a));var i=a.get(n);if(i)for(var s in t)i.hasOwnProperty(s)&&console.warn("Overwriting "+e.name+" "+s+" "+n.name+" comparitor"),i[s]=t[s];else a.set(n,t)}function l(){}var f={number:l,string:l,undefined:l,boolean:l},d={};["intersection","difference","union"].forEach(function(e){d[e]=function(n,t,a){if(a===r.UNIVERSAL){if("intersection"===e)return t;if("union"===e)return r.UNIVERSAL;if("difference"===e)return r.EMPTY}if(t===r.UNIVERSAL){if("intersection"===e)return t;if("union"===e)return r.UNIVERSAL}if(n&&n[e]){var i=n[e](t,a);return void 0===i&&!0===n.undefinedIsEmptySet?r.EMPTY:i}throw new Error("Unable to perform "+e+" between "+r.getType(t).name+" and "+r.getType(a).name)}});var p={intersection:function(e,n){return e===n?e:r.EMPTY},difference:function(e,n){return e===n?r.EMPTY:e},union:function(e,n){return e===n?e:r.UNDEFINABLE}};(r={UNIVERSAL:i.assignSymbols({name:"UNIVERSAL"},{"can.serialize":function(){return this},"can.isMember":function(){return!0}}),EMPTY:i.assignSymbols({name:"EMPTY"},{"can.serialize":function(){return this},"can.isMember":function(){return!1}}),UNDEFINABLE:s({name:"UNDEFINABLE"}),UNKNOWABLE:s({name:"UNKNOWABLE"}),Identity:l,isSpecial:function(e){return e===r.UNIVERSAL||e===r.EMPTY||e===r.UNDEFINABLE||e===r.UNKNOWABLE},isDefinedAndHasMembers:function(e){return e!==r.EMPTY&&e!==r.UNDEFINABLE&&e!==r.UNKNOWABLE&&!!e},getType:function(e){return e===r.UNIVERSAL?r.UNIVERSAL:e===r.EMPTY?r.EMPTY:e===r.UNKNOWABLE?r.UNKNOWABLE:null===e?l:f.hasOwnProperty(typeof e)?f[typeof e]:e.constructor},ownAndMemberValue:function(e,n){if(null!=e||null!=n){var t=null!=e?e.valueOf():e,r=null!=n?n.valueOf():n;return null==e||null==n?{own:t,member:r}:(null!=t&&t.constructor===r.constructor||(r=new e.constructor(r).valueOf()),{own:t,member:r})}return{own:n,member:e}},getComparisons:function(e,n){var t=e[u];if(t){var r=t.get(e);if(r)return r.get(n)}},hasComparisons:function(e){return!!e[u]},defineComparison:function(e,n,t){if(c(e,n,t),e!==n){var r={};for(var a in t)"difference"!==a&&(r[a]=o(t[a]));c(n,e,r)}},isSubset:function(e,n){if(e===n)return!0;var t=r.getType(e),a=r.getType(n),i=r.getComparisons(t,a);if(i){var s=d.intersection(i,e,n),o=d.difference(i,e,n);return s===r.UNKNOWABLE||o===r.UNKNOWABLE?void 0:s!==r.EMPTY&&o===r.EMPTY}throw new Error("Unable to perform subset comparison between "+t.name+" and "+a.name)},isProperSubset:function(e,n){return r.isSubset(e,n)&&!r.isEqual(e,n)},isEqual:function(e,n){if(e===r.UNKNOWABLE||n===r.UNKNOWABLE)return r.UNKNOWABLE;var t=r.isSpecial(e),a=r.isSpecial(n);if(t&&a)return t===a;var s=r.getType(e),o=r.getType(n);if(e===n)return!0;var u=r.getComparisons(s,o),c=r.getComparisons(o,s);if(u&&c){var l=d.intersection(u,e,n),f=d.difference(u,e,n);if(l!==r.EMPTY&&f===r.EMPTY){var p=d.intersection(c,n,e),h=d.difference(c,n,e);return p!==r.EMPTY&&h===r.EMPTY}return!1}var y=r.ownAndMemberValue(e,n);if(i.isPrimitive(y.own)&&i.isPrimitive(y.member))return y.own===y.member;throw new Error("Unable to perform equal comparison between "+s.name+" and "+o.name)},union:function(e,n){if(e===r.UNIVERSAL||n===r.UNIVERSAL)return r.UNIVERSAL;if(e===r.EMPTY)return n;if(n===r.EMPTY)return e;if(e===r.UNKNOWABLE||n===r.UNKNOWABLE)return r.UNKNOWABLE;var t=r.getType(e),a=r.getType(n),i=r.getComparisons(t,a);return d.union(i,e,n)},intersection:function(e,n){if(e===r.UNIVERSAL)return n;if(n===r.UNIVERSAL)return e;if(e===r.EMPTY||n===r.EMPTY)return r.EMPTY;if(e===r.UNKNOWABLE||n===r.UNKNOWABLE)return r.UNKNOWABLE;var t=r.getType(e),a=r.getType(n),i=r.getComparisons(t,a);if(i)return d.intersection(i,e,n);throw new Error("Unable to perform intersection comparison between "+t.name+" and "+a.name)},difference:function(e,n){if(e===r.EMPTY)return r.EMPTY;if(n===r.EMPTY)return e;if(e===r.UNKNOWABLE||n===r.UNKNOWABLE)return r.UNKNOWABLE;var t=r.getType(e),a=r.getType(n),i=r.getComparisons(t,a);if(i)return d.difference(i,e,n);throw new Error("Unable to perform difference comparison between "+t.name+" and "+a.name)},indexWithEqual:function(e,n){for(var t=0,a=e.length;t<a;t++)if(r.isEqual(e[t],n))return t;return-1}}).defineComparison(l,l,p),r.defineComparison(r.UNIVERSAL,r.UNIVERSAL,p),t.exports=r}),define("can-fixture@3.1.7#data-from-url",function(e,n,t){var r=/\{([^\}]+)\}/g;t.exports=function(e,n){if(!e)return{};var t=[],a=e.replace(".","\\.").replace("?","\\?"),i=new RegExp(a.replace(r,function(e,n){return t.push(n),"([^/]+)"})+"$").exec(n),s={};return i?(i.shift(),t.forEach(function(e){s[e]=i.shift()}),s):null}}),define("can-query-logic@1.2.2#src/array-union-intersection-difference",["require","exports","module","./set"],function(e,n,t){var r=e("./set");function a(e){return null==e?e:e.valueOf()}t.exports=function(e,n){var t=new Set,i=[],s=[],o=e.slice(0);return e.forEach(function(e){t.add(a(e)),s.push(e)}),n.forEach(function(e){if(t.has(a(e))){i.push(e);var n=r.indexWithEqual(o,e);-1!==n&&o.splice(n,1)}else s.push(e)}),{intersection:i,union:s,difference:o}}}),define("can-query-logic@1.2.2#src/types/comparisons-common",function(e,n,t){n.isMemberThatUsesTestOnValues=function(e){return this.constructor.test(this.values,e)}}),define("can-query-logic@1.2.2#src/types/types",function(e,n,t){t.exports={}}),define("can-query-logic@1.2.2#src/types/values-not",["require","exports","module","../set","./types"],function(e,n,t){var r=e("../set"),a=e("./types");function i(e){this.value=e}var s=r.Identity;r.defineComparison(r.UNIVERSAL,s,{difference:function(e,n){return new i(n)}}),r.defineComparison(r.UNIVERSAL,i,{difference:function(e,n){return n.value}}),r.defineComparison(i,i,{}),r.defineComparison(i,s,{union:function(e,n){if(r.isEqual(e.value,n))return r.UNIVERSAL;throw new Error("Not,Identity Union is not filled out")},intersection:function(e,n){return r.isEqual(!e.value,n)?n:r.EMPTY},difference:function(e,n){return r.isEqual(e.value,n)?e:r.UNDEFINABLE}}),r.defineComparison(s,i,{difference:function(e,n){return r.isEqual(e,n.value)?e:r.UNDEFINABLE}}),i.prototype.isMember=function(e){if(this.value&&"function"==typeof this.value.isMember)return!this.value.isMember(e);var n=r.ownAndMemberValue(this.value,e);return n.own!==n.member},t.exports=a.Not=i}),define("can-query-logic@1.2.2#src/types/array-comparisons",["require","exports","module","./comparisons-common","../set","./values-not"],function(e,n,t){var r=e("./comparisons-common"),a=e("../set"),i=e("./values-not"),s={All:function(e){this.values=e}};s.All.prototype.isMember=r.isMemberThatUsesTestOnValues;var o=s;function u(e,n,t){return function(){throw new Error("can-query-logic: Cannot perform "+e+" between "+n+" and "+t)}}function c(e,n){return{union:u("union",e,n),difference:u("difference",e,n),intersection:u("intersection",e,n)}}function l(e,n){return{difference:u("difference",e,n)}}s.All.test=function(e,n){return e.every(function(e){return n.some(function(n){var t=a.ownAndMemberValue(e,n);return t.own===t.member})})};var f={UNIVERSAL_All:{difference:function(e,n){return new i(n)}},All_UNIVERSAL:{difference:function(){return a.EMPTY}},All_All:{union:function(e,n){return new o.Or([e,n])}},In_All:l("In","All"),All_In:c("All","In"),NotIn_All:l("NotIn","All"),All_NotIn:c("All","NotIn"),GreaterThan_All:l("GreaterThan","All"),All_GreaterThan:c("All","GreaterThan"),GreaterThanEqual_All:l("GreaterThanEqual","All"),All_GreaterThanEqual:c("All","GreaterThanEqual"),LessThan_All:l("LessThan","All"),All_LessThan:c("All","LessThan"),LessThanEqual_All:l("LessThanEqual","All"),All_LessThanEqual:c("All","LessThanEqual"),All_And:l("All","And"),And_All:c("And","All"),All_Or:l("All","Or"),Or_All:c("Or","All")};n.comparisons=s,n.comparators=f}),define("can-query-logic@1.2.2#src/types/comparisons",["require","exports","module","../set","../array-union-intersection-difference","./comparisons-common","./array-comparisons","can-reflect","can-symbol"],function(e,n,t){var r=e("../set"),a=e("../array-union-intersection-difference"),i=e("./comparisons-common"),s=e("./array-comparisons"),o=e("can-reflect"),u=e("can-symbol").for("can.isMember"),c=o.assign(s.comparisons,{In:function(e){this.values=e},NotIn:function(e){this.values=e},GreaterThan:function(e){this.value=e},GreaterThanEqual:function(e){this.value=e},LessThan:function(e){this.value=e},LessThanEqual:function(e){this.value=e},And:function(e){this.values=e},Or:function(e){this.values=e}});function l(e){return function(n,t){return null!=n&&null!=t&&e(n,t)}}function f(e){return function(n,t){return n===t||null!=n&&null!=t&&e(n,t)}}function d(e){var n=r.ownAndMemberValue(this.value,e);return this.constructor.test(n.member,n.own)}c.Or.prototype.orValues=function(){return this.values},c.In.test=function(e,n){return e.some(function(e){var t=r.ownAndMemberValue(e,n);return t.own===t.member})},c.NotIn.test=function(e,n){return!c.In.test(e,n)},c.NotIn.testValue=function(e,n){return!c.In.testValue(e,n)},c.GreaterThan.test=l(function(e,n){return e>n}),c.GreaterThanEqual.test=f(function(e,n){return e>=n}),c.LessThan.test=l(function(e,n){return e<n}),c.LessThanEqual.test=f(function(e,n){return e<=n}),[c.GreaterThan,c.GreaterThanEqual,c.LessThan,c.LessThanEqual,c.LessThan].forEach(function(e){e.prototype.isMember=d}),[c.In,c.NotIn].forEach(function(e){e.prototype.isMember=i.isMemberThatUsesTestOnValues}),c.And.prototype.isMember=function(e){return this.values.every(function(n){return n.isMember(e)})},c.Or.prototype.isMember=function(e){return this.values.some(function(n){return n.isMember(e)})},Object.keys(c).forEach(function(e){c[e].prototype[u]=c[e].prototype.isMember});var p=c;function h(e){return{test:function(n,t){return!e.test(n,t)}}}function y(e,n,t){return function(i,s){var o=a(i.values,s.values);return o[e].length?new n(o[e]):t||r.EMPTY}}function v(e){return function(n,t){return e(t,n)}}function m(e,n){return function(t,r){return new e(r[n||"value"])}}function g(e,n){return e.value<n.value?n:e}function T(e,n){return e.value>n.value?n:e}function b(e,n){return function(t,a){return e.test(t.value,a.value)?S([t,new n(a.value)]):r.EMPTY}}function E(e,n){var t=b(e,n);return function(e,n){return e.value===n.value?new p.In([e.value]):t(e,n)}}function q(e,n,t){return function(a,i){var s=a.values.filter(function(n){return e.test(i,n)});return s.length?new n(s):t||r.EMPTY}}var I={test:function(e,n){return e.isMember(n)}};function A(e){return e instanceof p.Or}function L(e){return function(e){return e instanceof p.And}(e)||A(e)}function w(e){return function(n,t){var a,i=n.values.filter(function(n){return e.values.test(t,n)});return a=e.complement?r.difference(r.UNIVERSAL,t):e.with?new e.with(t.value):t,i.length?e.combinedUsing([new e.arePut(i),a]):a}}function N(e,n){return function(t,a){return e.test(t.value,a.value)?n||r.UNIVERSAL:M([t,a])}}function k(e,n){return function(t,a){return e.test(t.value,a.value)?n||r.EMPTY:S([t,a])}}function x(e){return function(n,t){return e.test(n.value,t.value)?r.difference(r.UNIVERSAL,t):n}}function S(e){return c.And?new c.And(e):r.UNDEFINABLE}function M(e){return c.Or?new c.Or(e):r.UNDEFINABLE}function _(e,n,t){var r=new t(n.value),a=e.values.filter(function(e){return!r.isMember(e)});return a.length?a.length<e.values.length?M([new p.In(a),r]):M([e,n]):r}var O,P={union:w({values:h(I),arePut:p.In,combinedUsing:function(e){return function e(n,t){if(t instanceof p.Or){var a=e(n,t.values[0]);if(!(a instanceof p.Or))return r.union(a,t.values[1]);var i=e(n,t.values[1]);return i instanceof p.Or?M([n,t]):r.union(i,t.values[0])}return t instanceof p.GreaterThan?_(n,t,p.GreaterThanEqual):t instanceof p.LessThan?_(n,t,p.LessThanEqual):M([n,t])}(e[0],e[1])}}),intersection:q(I,p.In,r.EMPTY),difference:q(h(I),p.In,r.EMPTY)},U={difference:v(w({values:I,arePut:p.NotIn,combinedUsing:S}))},R=function(){return{union:q(h(I),p.NotIn,r.UNIVERSAL),intersection:w({values:I,arePut:p.NotIn,combinedUsing:S}),difference:w({values:h(I),arePut:p.NotIn,combinedUsing:S,complement:!0})}},V={difference:v(q(I,p.In,r.EMPTY))},D=function(e,n){var t=r.union(e,n.values[0]),a=r.union(e,n.values[1]);return L(t)||L(a)?new p.Or([e,n]):r.intersection(t,a)},G=function(e,n){var t=n.values[0],a=n.values[1],i=r.intersection(e,t),s=r.intersection(e,a);return i===r.EMPTY||s===r.EMPTY?r.EMPTY:L(i)?L(s)?new p.And([e,n]):new r.intersection(s,t):new r.intersection(i,a)},j=function(e,n){var t=n.values[0],a=n.values[1],i=r.difference(e,t),s=r.difference(e,a);return i===r.EMPTY?s:s===r.EMPTY?i:new p.Or([i,s])},C=function(e,n){var t=e.values[0],a=e.values[1],i=r.difference(t,n),s=r.difference(a,n);return r.intersection(i,s)},Y={union:function(e,n){var t=n.values[0],a=n.values[1],i=r.union(e,t);if(!L(i))return r.union(i,a);var s=r.union(e,a);return L(s)?new p.Or([e,n]):r.union(t,s)},intersection:function(e,n){var t=n.values[0],a=n.values[1],i=r.intersection(e,t),s=r.intersection(e,a);return i===r.EMPTY?s:s===r.EMPTY?i:r.union(i,s)},difference:function(e,n){var t=n.values[0],a=n.values[1],i=r.difference(e,t),s=r.difference(e,a);return r.intersection(i,s)}},K={difference:function(e,n){var t=e.values[0],a=e.values[1],i=r.difference(t,n),s=r.difference(a,n);return r.union(i,s)}},B=o.assign(s.comparators,{In_In:{union:y("union",p.In),intersection:y("intersection",p.In),difference:y("difference",p.In)},UNIVERSAL_In:{difference:m(p.NotIn,"values")},In_NotIn:{union:v(y("difference",p.NotIn,r.UNIVERSAL)),intersection:y("difference",p.In),difference:y("intersection",p.In)},NotIn_In:{difference:y("union",p.NotIn)},In_GreaterThan:P,GreaterThan_In:U,In_GreaterThanEqual:P,GreaterThanEqual_In:U,In_LessThan:P,LessThan_In:U,In_LessThanEqual:P,LessThanEqual_In:U,In_And:P,And_In:U,In_Or:P,Or_In:U,NotIn_NotIn:{union:y("intersection",p.NotIn,r.UNIVERSAL),intersection:y("union",p.NotIn),difference:y("difference",p.In)},UNIVERSAL_NotIn:{difference:m(p.In,"values")},NotIn_GreaterThan:R(),GreaterThan_NotIn:V,NotIn_GreaterThanEqual:R(),GreaterThanEqual_NotIn:V,NotIn_LessThan:R(),LessThan_NotIn:V,NotIn_LessThanEqual:R(),LessThanEqual_NotIn:V,NotIn_And:R(),And_NotIn:V,NotIn_Or:R(),Or_NotIn:V,GreaterThan_GreaterThan:{union:T,intersection:g,difference:b(p.LessThan,p.LessThanEqual)},UNIVERSAL_GreaterThan:{difference:m(p.LessThanEqual)},GreaterThan_GreaterThanEqual:{union:T,intersection:g,difference:b(p.LessThan,p.LessThan)},GreaterThanEqual_GreaterThan:{difference:E(p.LessThan,p.LessThanEqual)},GreaterThan_LessThan:{union:(O=N(p.LessThan),function(e,n){return c.In.test([e.value],n.value)?new p.NotIn([e.value]):O(e,n)}),intersection:k(p.GreaterThan),difference:x(p.LessThan)},LessThan_GreaterThan:{difference:x(p.GreaterThan)},GreaterThan_LessThanEqual:{union:N(p.LessThanEqual),intersection:k(p.GreaterThanEqual),difference:x(p.LessThanEqual)},LessThanEqual_GreaterThan:{difference:x(p.GreaterThanEqual)},GreaterThan_And:{union:D,intersection:G,difference:j},And_GreaterThan:{difference:C},GreaterThan_Or:Y,Or_GreaterThan:K,GreaterThanEqual_GreaterThanEqual:{union:T,intersection:g,difference:b(p.LessThan,p.LessThan)},UNIVERSAL_GreaterThanEqual:{difference:m(p.LessThan)},GreaterThanEqual_LessThan:{union:N(p.LessThanEqual),intersection:k(p.GreaterThanEqual),difference:x(p.LessThanEqual)},LessThan_GreaterThanEqual:{difference:x(p.GreaterThanEqual)},GreaterThanEqual_LessThanEqual:{union:N(p.LessThanEqual),intersection:function(){var e=k(p.GreaterThan);return function(n,t){var r=new p.In([n.value]);return r.isMember(t.value)?r:e(n,t)}}(),difference:x(p.LessThanEqual)},LessThanEqual_GreaterThanEqual:{difference:x(p.GreaterThanEqual)},GreaterThanEqual_And:{union:D,intersection:G,difference:j},And_GreaterThanEqual:{difference:C},GreaterThanEqual_Or:Y,Or_GreaterThanEqual:K,LessThan_LessThan:{union:g,intersection:T,difference:b(p.GreaterThan,p.GreaterThanEqual)},UNIVERSAL_LessThan:{difference:m(p.GreaterThanEqual)},LessThan_LessThanEqual:{union:g,intersection:T,difference:b(p.GreaterThan,p.GreaterThan)},LessThanEqual_LessThan:{difference:E(p.GreaterThanEqual,p.GreaterThanEqual)},LessThan_And:{union:D,intersection:G,difference:j},And_LessThan:{difference:C},LessThan_Or:Y,Or_LessThan:K,LessThanEqual_LessThanEqual:{union:g,intersection:T,difference:function(e,n){return e.value>=n.value?S([e,new p.GreaterThan(n.value)]):r.EMPTY}},UNIVERSAL_LessThanEqual:{difference:m(p.GreaterThan)},LessThanEqual_And:{union:D,intersection:G,difference:j},And_LessThanEqual:{difference:C},LessThanEqual_Or:Y,Or_LessThanEqual:K,And_And:{union:function(e,n){var t=r.union(e,n.values[0]),a=r.union(e,n.values[1]);return(L(t)||L(a))&&(t=r.union(n,e.values[0]),a=r.union(n,e.values[1])),L(t)||L(a)?new p.Or([e,n]):r.intersection(t,a)},intersection:function(e,n){var t=r.intersection(e.values[0],n.values[0]),a=r.intersection(e.values[1],n.values[1]);return L(t)&&L(a)?(t=r.intersection(e.values[0],n.values[1]),a=r.intersection(e.values[1],n.values[0]),L(t)&&L(a)?new p.And([e,n]):r.intersection(t,a)):r.intersection(t,a)},difference:function(e,n){var t=r.difference(e,n.values[0]),a=r.difference(e,n.values[1]);return r.union(t,a)}},And_Or:{union:function(e,n){var t=r.union(e.values[0],n),a=r.union(e.values[1],n);return L(t)&&L(a)?new p.Or([e,n]):r.intersection(t,a)},intersection:function(e,n){var t=r.intersection(e,n.values[0]),a=r.intersection(e,n.values[1]);return A(t)||A(a)?new p.And([e,n]):r.union(t,a)},difference:function(e,n){var t=r.difference(e,n.values[0]),a=r.difference(e,n.values[1]);return r.intersection(t,a)}},Or_And:{difference:function(e,n){var t=r.difference(e,n.values[0]),a=r.difference(e,n.values[1]);return r.union(t,a)}},UNIVERSAL_And:{difference:function(e,n){var t=r.difference(e,n.values[0]),a=r.difference(e,n.values[1]);return r.union(t,a)}},Or_Or:{union:function(e,n){var t=r.union(e.values[0],n.values[0]),a=r.union(e.values[1],n.values[1]);return L(t)&&L(a)?(t=r.union(e.values[0],n.values[1]),a=r.union(e.values[1],n.values[0]),L(t)&&L(a)?new p.Or([e,n]):r.union(t,a)):r.union(t,a)},intersection:function(e,n){var t=n.values[0],a=n.values[1],i=r.intersection(e,t),s=r.intersection(e,a);return A(i)&&A(s)?(i=r.union(n,e.values[0]),s=r.union(n,e.values[1]),A(i)&&A(s)?new p.Or([e,n]):r.union(i,s)):r.union(i,s)},difference:function(e,n){var t=r.difference(e,n.values[0]),a=r.difference(e,n.values[1]);return r.intersection(t,a)}},UNIVERSAL_Or:{difference:function(e,n){var t=r.difference(e,n.values[0]),a=r.difference(e,n.values[1]);return r.intersection(t,a)}}}),z=Object.keys(c);z.forEach(function(e,n){B[e+"_"+e]?r.defineComparison(c[e],c[e],B[e+"_"+e]):console.warn("no "+e+"_"+e),B["UNIVERSAL_"+e]?r.defineComparison(r.UNIVERSAL,c[e],B["UNIVERSAL_"+e]):console.warn("no UNIVERSAL_"+e);for(var t=n+1;t<z.length;t++){var a=z[t];B[e+"_"+a]?r.defineComparison(c[e],c[a],B[e+"_"+a]):console.warn("no "+e+"_"+a),B[a+"_"+e]?r.defineComparison(c[a],c[e],B[a+"_"+e]):console.warn("no "+a+"_"+e)}}),t.exports=c}),define("can-query-logic@1.2.2#src/types/make-real-number-range-inclusive",["require","exports","module","../set","./comparisons"],function(e,n,t){var r=e("../set"),a=e("./comparisons");t.exports=function(e,n){function t(t,r){this.start=arguments.length>0?+t:e,this.end=arguments.length>1?+r:n,this.range=new a.And([new a.GreaterThanEqual(this.start),new a.LessThanEqual(this.end)])}var i=new t(e,n);function s(e){return r.isSubset(i.range,e.range)}function o(e){var n={};if(e.values.forEach(function(e){e instanceof a.GreaterThanEqual&&(n.start=e.value),e instanceof a.GreaterThan&&(n.start=e.value+1),e instanceof a.LessThanEqual&&(n.end=e.value),e instanceof a.LessThan&&(n.end=e.value-1)}),"start"in n&&"end"in n)return new t(n.start,n.end)}function u(e){var n;if(e instanceof a.And&&(n=o(e)),e instanceof a.Or){var i=o(e.values[0]),u=o(e.values[1]);if(!i||!u)return r.UNDEFINABLE;var c=i.range.values,l=u.range.values;if(c[1].value+1===l[0].value)n=new t(c[0].value,l[1].value);else{if(l[1].value+1!==c[0].value)return r.UNDEFINABLE;n=new t(l[0].value,c[1].value)}}return n&&s(n)?r.UNIVERSAL:n}function c(e,n){return u(r.difference(e.range,n.range))||r.EMPTY}return r.defineComparison(t,t,{union:function(e,n){return u(r.union(e.range,n.range))||r.EMPTY},intersection:function(e,n){return u(r.intersection(e.range,n.range))||r.EMPTY},difference:c}),r.defineComparison(r.UNIVERSAL,t,{difference:function(e,n){return s(n)?r.EMPTY:c(i,n)}}),t}}),define("can-query-logic@1.2.2#src/types/values-or",["require","exports","module","../set","./types"],function(e,n,t){var r=e("../set"),a=e("./types");function i(e){this.values=e}i.prototype.isMember=function(e){return this.values.some(function(n){return n&&n.isMember?n.isMember(e):n===e})},r.defineComparison(r.UNIVERSAL,i,{difference:function(){return r.UNDEFINABLE}}),t.exports=a.ValuesOr=i}),define("can-query-logic@1.2.2#src/types/values-and",["require","exports","module","./types","../set"],function(e,n,t){var r=e("./types"),a=e("../set");function i(e){this.values=e}i.prototype.isMember=function(e){return this.values.every(function(n){return n&&n.isMember?n.isMember(e):n===e})},a.defineComparison(a.UNIVERSAL,i,{difference:function(){return a.UNDEFINABLE}}),t.exports=r.ValuesAnd=i}),define("can-query-logic@1.2.2#src/types/keys-and",["require","exports","module","../set","can-assign","../array-union-intersection-difference","can-reflect","can-key/get/get","can-symbol","can-reflect","./types"],function(e,n,t){var r=e("../set"),a=e("can-assign"),i=e("../array-union-intersection-difference"),s=e("can-reflect"),o=e("can-key/get/get"),u=e("can-symbol"),c=(s=e("can-reflect"),e("./types"));function l(e){var n=this.values={};s.eachKey(e,function(e,t){s.isPlainObject(e)&&!r.isSpecial(e)?n[t]=new l(e):n[t]=e})}var f=u.for("can.isMember");function d(e){return r.isEqual(e,r.UNIVERSAL)?r.UNIVERSAL:e}l.prototype.isMember=function(e,n,t){var r=!0,a=t?t+".":"";return s.eachKey(this.values,function(t,i){var s=t&&(t[f]||t.isMember);s?s.call(t,o(e,i),n||e,a+i)||(r=!1):t!==o(e,i)&&(r=!1)}),r};var p={};function h(e,n){var t=i(Object.keys(e),Object.keys(n));return{aOnlyKeys:t.difference,aAndBKeys:t.intersection,bOnlyKeys:i(Object.keys(n),Object.keys(e)).difference}}function y(e){return e!==r.EMPTY}function v(e,n){var t=e.values,i=n.values,s=h(t,i),o=s.aOnlyKeys,u=s.aAndBKeys,f=s.bOnlyKeys,d={},p={},v={};u.forEach(function(e){var n=r.difference(t[e],i[e]);if(n===r.EMPTY)d[e]=t[e];else{var a=r.intersection(t[e],i[e]);a!==r.EMPTY?p[e]={difference:n,intersection:a}:v[e]=t[e]}});var m,g=Object.keys(p);if(1===g.length&&((m={})[g[0]]=p[g[0]].difference),Object.keys(v).length)return e;if(0===o.length&&0===f.length)return g.length>1?r.UNDEFINABLE:1===g.length?(a(d,m),new l(d)):r.EMPTY;if(o.length>0&&0===f.length)return g.length>1?r.UNDEFINABLE:1===g.length?(a(d,m),o.forEach(function(e){d[e]=t[e]}),new l(d)):r.EMPTY;if(0===o.length&&f.length>0){if(g.length>1)return r.UNDEFINABLE;var T;if(1===g.length){var b=g[0];(T=a({},d))[b]=p[b].difference,d[b]=p[b].intersection}var E=f.map(function(e){var n=a({},d),t=n[e]=r.difference(r.UNIVERSAL,i[e]);return t===r.EMPTY?t:new l(n)}).filter(y);return T&&E.push(new l(T)),E.length>1?new c.ValuesOr(E):1===E.length?E[0]:r.EMPTY}if(o.length>0&&f.length>0){if(g.length)throw new Error("Can't handle any productable keys right now");if(o.forEach(function(e){d[e]=t[e]}),1===f.length){var q=f[0],I=a({},d);return I[q]=r.difference(r.UNIVERSAL,i[q]),new l(I)}return r.UNDEFINABLE}}r.defineComparison(l,l,{union:function(e,n){var t=h(e.values,n.values),a=[],i={};t.aAndBKeys.forEach(function(t){r.isEqual(e.values[t],n.values[t])?i[t]=e.values[t]:a.push(t)});var o={},u={};if(a.forEach(function(t){o[t]=e.values[t],u[t]=n.values[t]}),!t.aOnlyKeys.length&&!t.bOnlyKeys.length){if(1===a.length){var f=a[0],p=i[f]=r.union(e.values[f],n.values[f]);return 1===s.size(i)&&r.isEqual(p,r.UNIVERSAL)?r.UNIVERSAL:new l(i)}if(0===a.length)return e}if(0===a.length){if(t.aOnlyKeys.length>0&&0===t.bOnlyKeys.length)return d(n);if(0===t.aOnlyKeys.length&&t.bOnlyKeys.length>0)return d(e)}return t.aOnlyKeys.length>0&&0===t.bOnlyKeys.length&&r.isSubset(new l(o),new l(u))?n:t.bOnlyKeys.length>0&&0===t.aOnlyKeys.length&&r.isSubset(new l(u),new l(o))?e:new c.ValuesOr([e,n])},intersection:function(e,n){var t=e.values,i=n.values,s=!1,o={};return function(e,n,t,r,i){var s,o=a({},t);for(var u in e){if(void 0!==(s=n(u,e[u],u in t?t[u]:p)))return s;delete o[u]}for(u in o)if(void 0!==(s=r(u,p,t[u])))return s}(t,function(e,n,t){o[e]=t===p?n:r.intersection(n,t),o[e]===r.EMPTY&&(s=!0)},i,function(e,n,t){o[e]=t,o[e]===r.EMPTY&&(s=!0)}),s?r.EMPTY:new l(o)},difference:v}),r.defineComparison(r.UNIVERSAL,l,{difference:function(e,n){return v({values:{}},n)}}),t.exports=c.KeysAnd=l}),define("can-query-logic@1.2.2#src/types/and-or-not",["require","exports","module","./values-or","./values-not","./values-and","./keys-and"],function(e,n,t){var r=e("./values-or"),a=e("./values-not"),i=e("./values-and"),s=e("./keys-and");t.exports={KeysAnd:s,ValuesOr:r,ValuesNot:a,ValuesAnd:i}}),define("can-query-logic@1.2.2#src/helpers",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect"),a={undefined:0,null:1,number:3,string:4,object:5,boolean:6},i=function(e){var n=typeof e;return null===e&&(n="null"),a[n]},s={$gt:function(e,n){return i(e)>i(n)},$lt:function(e,n){return i(e)<i(n)}},o={$gt:function(e,n){return null==e||null==n?s.$gt(e,n):e>n},$lt:function(e,n){return null==e||null==n?s.$gt(e,n):e<n}},u={uniqueConcat:function(e,n,t){var r=new Set;return e.concat(n).filter(function(e){var n=t(e);return!r.has(n)&&(r.add(n),!0)})},getIdentityIndex:function(e,n,t,a,i){var s=r.getIdentity(t,i),o=n[a];if(0===e(t,o)&&s===r.getIdentity(o,i))return a;var u,c=this.getIdentityIndexByDirection(e,n,t,a+1,1,i);return c.index?c.index:void 0!==(u=this.getIdentityIndexByDirection(e,n,t,a-1,-1,i)).index?u.index:c.lastIndex},getIdentityIndexByDirection:function(e,n,t,a,i,s){for(var o=a,u=r.getIdentity(t,s);o>=0&&o<n.length;){var c=n[o];if(0!==e(t,c))return{lastIndex:o-i};if(u===r.getIdentity(c,s))return{index:o};o+=i}return{lastIndex:o-i}},getIndex:function(e,n,t,r){if(n&&n.length){if(-1===e(t,n[0]))return 0;if(1===e(t,n[n.length-1]))return n.length;for(var a=0,i=n.length;a<i;){var s=a+i>>>1,o=e(t,n[s]);if(0===o)return this.getIdentityIndex(e,n,t,s,r);-1===o?i=s:a=s+1}return i}},sortData:function(e){return"-"===e[0]?{prop:e.slice(1),desc:!0}:{prop:e,desc:!1}},defaultCompare:o,typeCompare:s,sorter:function(e,n){var t,a=u.sortData(e);return t=n&&n[a.prop]?n[a.prop]:o,function(e,n){var i,s=r.getKeyValue(e,a.prop),o=r.getKeyValue(n,a.prop);return a.desc&&(i=s,s=o,o=i),t.$lt(s,o)?-1:t.$gt(s,o)?1:0}},valueHydrator:function(e){if(r.isBuiltIn(e))return e;throw new Error("can-query-logic doesn't support comparison operator: "+JSON.stringify(e))}};t.exports=u}),define("can-query-logic@1.2.2#src/types/basic-query",["require","exports","module","../set","./make-real-number-range-inclusive","can-assign","can-reflect","./and-or-not","../helpers","can-define-lazy-value"],function(e,n,t){var r=e("../set"),a=e("./make-real-number-range-inclusive"),i=e("can-assign"),s=e("can-reflect"),o=e("./and-or-not"),u=e("../helpers"),c=e("can-define-lazy-value"),l=o.KeysAnd,f=o.ValuesOr,d=o.ValuesNot,p=o.ValuesAnd,h=a(0,1/0);function y(e,n){var t=e.keys,a={};function i(n){this.key=n,this.schema=e,this.compare=u.sorter(n,a)}return s.eachKey(t,function(e,t){a[t]={$gt:function(a,i){if(null==a||null==i)return u.typeCompare.$gt(a,i);var s=n({$gt:i},t,e,u.valueHydrator),o=n({$eq:a},t,e,u.valueHydrator);return r.isEqual(r.union(s,o),s)},$lt:function(a,i){if(null==a||null==i)return u.typeCompare.$lt(a,i);var s=n({$lt:i},t,e,u.valueHydrator),o=n({$eq:a},t,e,u.valueHydrator);return r.isEqual(r.union(s,o),s)}}}),r.defineComparison(i,i,{intersection:function(e,n){return e.key===n.key?e:r.EMPTY},difference:function(e,n){return e.key===n.key?r.EMPTY:e},union:function(e,n){return e.key===n.key?e:r.UNDEFINABLE}}),i}var v=y({keys:{},identity:["id"]});function m(e){i(this,e),this.filter||(this.filter=r.UNIVERSAL),this.page||(this.page=new h),this.sort||(this.sort="id"),"string"==typeof this.sort&&(this.sort=new v(this.sort))}m.KeysAnd=l,m.Or=f,m.Not=d,m.And=p,m.RecordRange=h,m.makeSort=y,s.assignMap(m.prototype,{count:function(){return this.page.end-this.page.start+1},sortData:function(e){return e.slice(0).sort(this.sort.compare)},filterMembersAndGetCount:function(e,n){var t;if(n){if((t=r.isEqual(n.page,r.UNIVERSAL))&&!r.isEqual(n.filter,r.UNIVERSAL)&&!r.isSubset(this,n))throw new Error("can-query-logic: Unable to get members from a set that is not a superset of the current set.")}else n=new m;var a=e.filter(function(e){return this.filter.isMember(e)},this),i=a.length;i&&this.sort.key!==n.sort.key&&(a=this.sortData(a));var s=r.isEqual(this.page,r.UNIVERSAL);if(null==t&&(t=r.isEqual(n.page,r.UNIVERSAL)),t)return s?{data:a,count:i}:{data:a.slice(this.page.start,this.page.end+1),count:i};if(this.sort.key===n.sort.key&&r.isEqual(n.filter,this.filter))return{data:a.slice(this.page.start-n.page.start,this.page.end-n.page.start+1),count:i};throw new Error("can-query-logic: Unable to get members from the parent set for this subset.")},filterFrom:function(e,n){return this.filterMembersAndGetCount(e,n).data},merge:function(e,n,t,a){var i=r.union(this,e);if(i!==r.UNDEFINABLE){var s=u.uniqueConcat(n,t,a);return i.sortData(s)}},index:function(e,n){var t=u.sortData(this.sort.key);if(s.hasOwnKey(e,t.prop))return u.getIndex(this.sort.compare,n,e,this.sort.schema)},isMember:function(e){return this.filter.isMember(e)},removePagination:function(){this.page=new h}});var g=["filter","page","sort"];function T(e,n,t){return!!t[e+"FilterIsSubset"]&&(!!t[n+"PageIsUniversal"]||t[e+"PageIsSubset"]&&t.sortIsEqual)}function b(e,n){this.queryA=e,this.queryB=n}function E(e,n){return new b(e,n)}s.eachKey({pageIsEqual:function(){return r.isEqual(this.queryA.page,this.queryB.page)},aPageIsUniversal:function(){return r.isEqual(this.queryA.page,r.UNIVERSAL)},bPageIsUniversal:function(){return r.isEqual(this.queryB.page,r.UNIVERSAL)},pagesAreUniversal:function(){return this.pageIsEqual&&this.aPageIsUniversal},sortIsEqual:function(){return this.queryA.sort.key===this.queryB.sort.key},aFilterIsSubset:function(){return r.isSubset(this.queryA.filter,this.queryB.filter)},bFilterIsSubset:function(){return r.isSubset(this.queryB.filter,this.queryA.filter)},aPageIsSubset:function(){return r.isSubset(this.queryA.page,this.queryB.page)},bPageIsSubset:function(){return r.isSubset(this.queryB.page,this.queryA.page)},filterIsEqual:function(){return r.isEqual(this.queryA.filter,this.queryB.filter)},aIsSubset:function(){return T("a","b",this)},bIsSubset:function(){return T("b","a",this)}},function(e,n){c(b.prototype,n,e)}),r.defineComparison(m,m,{union:function(e,n){var t=E(e,n),a=r.union(e.filter,n.filter);if(t.pagesAreUniversal)return new m({filter:a,sort:t.sortIsEqual?e.sort.key:void 0});if(t.filterIsEqual)return t.sortIsEqual?new m({filter:e.filter,sort:e.sort.key,page:r.union(e.page,n.page)}):t.aIsSubset?n:t.bIsSubset?e:r.UNDEFINABLE;throw new Error("different filters, non-universal pages")},intersection:function(e,n){var t=E(e,n);if(t.pagesAreUniversal){var a=r.intersection(e.filter,n.filter);return r.isDefinedAndHasMembers(a)?new m({filter:a,sort:t.sortIsEqual?e.sort.key:void 0}):a}return r.intersection(e.filter,n.filter)===r.EMPTY?r.EMPTY:t.filterIsEqual?t.sortIsEqual?new m({filter:e.filter,sort:e.sort.key,page:r.intersection(e.page,n.page)}):t.aIsSubset?e:t.bIsSubset?n:r.UNKNOWABLE:t.aIsSubset?e:t.bIsSubset?n:r.UNDEFINABLE},difference:function(e,n){var t,a=function(e,n){var t=[];return g.forEach(function(a){r.isEqual(e[a],n[a])||t.push(a)}),t}(e,n),i=E(e,n);if(a.length>1)return i.aIsSubset?r.EMPTY:i.pagesAreUniversal?new m({filter:r.difference(e.filter,n.filter),sort:e.sort.key}):r.UNDEFINABLE;switch(t=a[0]){case void 0:return r.EMPTY;case"sort":return i.pagesAreUniversal?r.EMPTY:r.UNKNOWABLE;case"page":case"filter":var s=r.difference(e[t],n[t]);if(r.isSpecial(s))return s;var o={filter:e.filter,page:e.page,sort:e.sort.key};return o[t]=s,new m(o)}}}),t.exports=m}),define("can-query-logic@1.2.2#src/serializer",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect"),a=function(e){var n=this.serializers=new Map;e&&e.forEach(function(e){var t=e[0],r=e[1];n.set(t,r)}),this.serialize=this.serialize.bind(this)};a.prototype.add=function(e){r.assign(this.serializers,e instanceof a?e.serializers:e)},a.prototype.serialize=function(e){if(!e)return e;var n=e.constructor,t=this.serializers.get(n);return t?t(e,this.serialize):r.serialize(e)},t.exports=a}),define("can-query-logic@1.2.2#src/serializers/comparisons",["require","exports","module","../types/comparisons","../serializer","can-reflect","../types/values-not"],function(e,n,t){var r=e("../types/comparisons"),a=e("../serializer"),i=e("can-reflect"),s=e("../types/values-not");function o(e){return function(n){return new e(n)}}var u={};function c(e,n){u[e]=function(t,r){return n(r?r(t[e]):t[e])},Object.defineProperty(u[e],"name",{value:"hydrate "+e,writable:!0})}function l(e,n){u[e]=function(t,r){var a=t[e];return r&&(a=a.map(function(e){return r(e)})),n(a)},Object.defineProperty(u[e],"name",{value:"hydrate "+e,writable:!0})}c("$eq",function(e){return new r.In([e])}),c("$ne",function(e){return new r.NotIn([e])}),c("$gt",o(r.GreaterThan)),c("$gte",o(r.GreaterThanEqual)),l("$in",o(r.In)),c("$lt",o(r.LessThan)),c("$lte",o(r.LessThanEqual)),l("$all",o(r.All));var f={LessThan:{Type:r.GreaterThanEqual,prop:"value"},LessThanEqual:{Type:r.GreaterThan,prop:"value"},GreaterThan:{Type:r.LessThanEqual,prop:"value"},GreaterThanEqual:{Type:r.LessThan,prop:"value"},In:{Type:r.NotIn,prop:"values"},NotIn:{Type:r.In,prop:"values"}};u.$not=function(e,n){var t=p(e.$not,n),r=t.constructor.name||t.constructor.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];if(f[r]){var a=f[r];return new(0,a.Type)(t[a.prop])}return new s(t)},l("$nin",o(r.NotIn));var d=new a([[r.In,function(e,n){return 1===e.values.length?n(e.values[0]):{$in:e.values.map(n)}}],[r.NotIn,function(e,n){return 1===e.values.length?{$ne:n(e.values[0])}:{$nin:e.values.map(n)}}],[r.GreaterThan,function(e,n){return{$gt:n(e.value)}}],[r.GreaterThanEqual,function(e,n){return{$gte:n(e.value)}}],[r.LessThan,function(e,n){return{$lt:n(e.value)}}],[r.LessThanEqual,function(e,n){return{$lte:n(e.value)}}],[r.And,function(e,n){var t={};return e.values.forEach(function(e){i.assignMap(t,n(e))}),t}],[r.All,function(e,n){return{$all:n(e.values)}}]]);function p(e,n){if(n||(n=function(){throw new Error("can-query-logic doesn't recognize operator: "+JSON.stringify(e))}),Array.isArray(e))return new r.In(e.map(function(e){return n(e)}));if(e&&"object"==typeof e){var t=Object.keys(e);if(t.every(function(e){return u[e]})){var a=t.map(function(t){var r={};return r[t]=e[t],(0,u[t])(r,n)});return a.length>1?new r.And(a):a[0]}return n(e)}return new r.In([n(e)])}t.exports={hydrate:p,serializer:d}}),define("can-query-logic@1.2.2#src/schema-helpers",["require","exports","module","can-reflect","./set","can-symbol"],function(e,n,t){var r,a=e("can-reflect"),i=e("./set"),s=e("can-symbol");t.exports=r={isRangedType:function(e){return e&&a.isConstructorLike(e)&&!i.hasComparisons(e)&&!e[s.for("can.SetType")]&&e.prototype.valueOf&&e.prototype.valueOf!==Object.prototype.valueOf},categorizeOrValues:function(e){var n={primitives:[],valueOfTypes:[],others:[]};return e.forEach(function(e){a.isPrimitive(e)?n.primitives.push(e):r.isRangedType(e)?n.valueOfTypes.push(e):n.others.push(e)}),n}}}),define("can-query-logic@1.2.2#src/types/make-maybe",["require","exports","module","../set","./comparisons","can-reflect","../schema-helpers","can-symbol"],function(e,n,t){var r=e("../set"),a=e("./comparisons"),i=e("can-reflect"),s=e("../schema-helpers"),o=e("can-symbol"),u=o.for("can.ComparisonSetType"),c=o.for("can.isMember");function l(e,n){var t=new a.In(e);function s(e){var n=function e(n,t){var s;if(t instanceof a.And)return t.values.map(function(t){return e(n,t)}).reduce(function(e,n){return{range:r.intersection(e.range,n.range),enum:r.intersection(e.enum,n.enum)}},{range:r.UNIVERSAL,enum:n});if(t instanceof a.In){var o=t.values.filter(function(e){return n.isMember(e)});if(o.length){var u=t.values.slice(0);return i.removeValues(u,o),{enum:new a.In(o),range:u.length?new a.In(u):r.EMPTY}}return{enum:r.EMPTY,range:t}}if(t instanceof a.NotIn){s=r.intersection(n,t);var c=t.values.filter(function(e){return!n.isMember(e)});return{range:c.length?new a.NotIn(c):r.UNIVERSAL,enum:s}}return{enum:r.EMPTY,range:t}}(t,e.range);if(this.range=n.range||r.EMPTY,e.enum?n.enum!==r.EMPTY?this.enum=r.union(n.enum,e.enum):this.enum=e.enum:this.enum=n.enum,this.enum===r.EMPTY&&this.range===r.EMPTY)return r.EMPTY}return s.prototype.orValues=function(){var e=[];return this.range!==r.EMPTY&&e.push(this.range),this.enum!==r.EMPTY&&e.push(this.enum),e},s.prototype[c]=function(){var e=this.range[c]||this.range.isMember,n=this.enum[c]||this.enum.isMember;return e.apply(this.range,arguments)||n.apply(this.enum,arguments)},r.defineComparison(s,s,{union:function(e,n){return new s({enum:r.union(e.enum,n.enum),range:r.union(e.range,n.range)})},difference:function(e,n){return new s({enum:r.difference(e.enum,n.enum),range:r.difference(e.range,n.range)})},intersection:function(e,n){return new s({enum:r.intersection(e.enum,n.enum),range:r.intersection(e.range,n.range)})}}),s.inValues=e,r.defineComparison(r.UNIVERSAL,s,{difference:function(e,n){var a;if(n.range===r.UNIVERSAL)return new s({range:n.range,enum:r.difference(t,n.enum)});if(n.enum===r.EMPTY){var i=r.difference(r.UNIVERSAL,n.range),o=r.difference(t,n.range);return new s({range:i,enum:r.difference(o,i)})}return a=r.difference(e,n.range),new s({enum:r.difference(t,n.enum),range:a})}}),n=n||function(e){return e},s.hydrate=function(e,t){return new s({range:t(e,n)})},s}l.canMakeMaybeSetType=function(e){var n=i.getSchema(e);if(n&&"Or"===n.type){var t=s.categorizeOrValues(n.values);return 1===t.valueOfTypes.length&&t.valueOfTypes.length+t.primitives.length===n.values.length}return!1},l.makeMaybeSetTypes=function(e){var n,t=i.getSchema(e),r=s.categorizeOrValues(t.values);return e[u]?n=e[u]:((n=function(n){this.value=i.new(e,n)}).prototype.valueOf=function(){return this.value},i.assignSymbols(n.prototype,{"can.serialize":function(){return this.value}})),{Maybe:l(r.primitives,function(e){return new n(e)}),ComparisonSetType:n}},t.exports=l}),define("can-query-logic@1.2.2#src/types/make-enum",["require","exports","module","../set","../array-union-intersection-difference","../schema-helpers","can-reflect","can-symbol"],function(e,n,t){var r=e("../set"),a=e("../array-union-intersection-difference"),i=e("../schema-helpers"),s=e("can-reflect"),o=e("can-symbol"),u=o.for("can.SetType"),c=o.for("can.isMember"),l=o.for("can.new");function f(e,n){function t(e){var t=Array.isArray(e)?e:[e];this.values=n?t.map(n):t}s.assignSymbols(t.prototype,{"can.serialize":function(){return 1===this.values.length?this.values[0]:this.values}}),t.prototype[c]=function(e){return this.values.some(function(n){return r.isEqual(n,e)})},t.UNIVERSAL=new t(e);var i=function(e,n){var i=a(e.values,n.values);return i.difference.length?new t(i.difference):r.EMPTY};return r.defineComparison(t,t,{union:function(e,n){var i=a(e.values,n.values);return i.union.length?new t(i.union):r.EMPTY},intersection:function(e,n){var i=a(e.values,n.values);return i.intersection.length?new t(i.intersection):r.EMPTY},difference:i}),r.defineComparison(t,r.UNIVERSAL,{difference:function(n){return i(n,{values:e.slice(0)})}}),r.defineComparison(r.UNIVERSAL,t,{difference:function(n,t){return i({values:e.slice(0)},t)}}),t}function d(e,n,t){var a=f(n,t);return e[u]=a,e[c]=function(e){return n.some(function(n){return r.isEqual(n,e)})},a}d.canMakeEnumSetType=function(e){var n=s.getSchema(e);return!(!n||"Or"!==n.type)&&i.categorizeOrValues(n.values).primitives.length===n.values.length},d.makeEnumSetType=function(e){var n=s.getSchema(e),t=i.categorizeOrValues(n.values),r=e[l]?e[l].bind(e):void 0;return f(t.primitives,r)},t.exports=d}),define("can-query-logic@1.2.2#src/serializers/basic-query",["require","exports","module","can-symbol","can-reflect","../types/basic-query","../set","../serializers/comparisons","../serializer","../types/comparisons","../types/make-maybe","../types/make-enum","can-log/dev/dev","../helpers"],function(e,n,t){var r=e("can-symbol"),a=e("can-reflect"),i=e("../types/basic-query"),s=e("../set"),o=e("../serializers/comparisons"),u=e("../serializer"),c=e("../types/comparisons"),l=e("../types/make-maybe"),f=e("../types/make-enum"),d=(e("can-log/dev/dev"),e("../helpers")),p=r.for("can.SetType"),h=r.for("can.getSchema"),y=new i({});function v(e,n,t){var r=e&&"object"==typeof e;return r&&"$or"in e?function(e,n,t){var r=e.map(function(e){return T(e,n,t)}),o=function(e){var n=Object.keys(e[0].values),t={},r=new c.In(n);if(n.map(function(e){t[e]=[]}),e.every(function(e){return!!s.isEqual(r,new c.In(Object.keys(e.values)))&&(a.eachKey(e.values,function(e,n){t[n].push(e)}),!0)})){var o=[];if(n.forEach(function(e){t[e].reduce(function(e,n){return!1!==n&&(void 0===n?e:!!s.isEqual(e,n)&&e)})||o.push(e)}),1===o.length){var u=o[0],l=t[u].reduce(function(e,n){return s.union(e,n)},s.EMPTY),f={};return n.map(function(e){f[e]=t[e][0]}),f[u]=l,new i.KeysAnd(f)}}}(r);return o||new i.Or(r)}(e.$or,n,t):r&&"$and"in e?function(e,n,t){var r=e.map(function(e){return T(e,n,t)});return new i.And(r)}(e.$and,n,t):T(e,n,t)}var m=new WeakMap;function g(e,n,t,r){if(t){var a=t[p];return a?a.hydrate?a.hydrate(e,o.hydrate):s.hasComparisons(a)?new a(e):o.hydrate(e,function(e){return new a(e)}):f.canMakeEnumSetType(t)?(m.has(t)||m.set(t,f.makeEnumSetType(t)),new(a=m.get(t))(e)):l.canMakeMaybeSetType(t)?(m.has(t)||m.set(t,l.makeMaybeSetTypes(t)),(a=m.get(t).Maybe).hydrate(e,o.hydrate)):o.hydrate(e,r)}return o.hydrate(e,r)}function T(e,n,t){function r(e){if(e){if(Array.isArray(e))return e.map(t);if(a.isPlainObject(e))return T(e,function(e){var n=e.constructor;return n&&n[h]&&n[h]().keys||{}}(e))}return t?t(e):e}n=n||{};var s={};return a.eachKey(e,function(e,t){s[t]=g(e,0,n[t],r)}),new i.KeysAnd(s)}t.exports=function(e){var n=e.identity&&e.identity[0],t=e.keys,r=[[i.Or,function(e,n){return e.values.map(function(e){return n(e)})}],[i.And,function(e,n){return{$and:e.values.map(function(e){return n(e)})}}],[i.Not,function(e,n){return{$not:n(e.value)}}],[i.KeysAnd,function(e,n){var t=[],r={};return a.eachKey(e.values,function(e,a){"function"==typeof e.orValues?function e(n,t,r,a){t.orValues().forEach(function(t){if("function"==typeof t.orValues)e(n,t,r,a);else{var i={};i[a]=r(t),n.push(i)}})}(t,e,n,a):r[a]=n(e)}),t.length?1===t.length?t[0]:{$or:t.map(function(e){return a.assign(a.serialize(r),e)})}:r}],[i.RecordRange,function(e){return{start:e.start,end:e.end}}],[i,function(e,t){var r=s.isEqual(e.filter,s.UNIVERSAL)?{}:t(e.filter),i={};return 0!==a.size(r)&&(i.filter=r),s.isEqual(e.page,y.page)||(i.page={start:e.page.start},e.page.end!==y.page.end&&(i.page.end=e.page.end)),e.sort.key!==n&&(i.sort=e.sort.key),i}]],c=i.makeSort(e,g),l=new u(r);return l.add(o.serializer),{hydrate:function(e){var r={filter:v(a.serialize(e.filter),t,d.valueHydrator)};return e.page&&(r.page=new i.RecordRange(e.page.start,e.page.end)),e.sort?r.sort=new c(e.sort):r.sort=new c(n),new i(r)},serializer:l}}}),define("can-query-logic@1.2.2#can-query-logic",["require","exports","module","./src/set","can-symbol","can-reflect","./src/serializers/basic-query","./src/types/basic-query","./src/types/comparisons","./src/types/make-enum"],function(e,n,t){var r=e("./src/set"),a=e("can-symbol"),i=e("can-reflect"),s=e("./src/serializers/basic-query"),o=e("./src/types/basic-query"),u=e("./src/types/comparisons"),c=a.for("can.getSchema"),l=a.for("can.new"),f=e("./src/types/make-enum");function d(e,n){e=e||{};var t,r=n&&n.toQuery,a=n&&n.toParams;(t=e[c]?e[c]():e).identity&&t.identity[0]||(t.identity=["id"]);var i,o,u=s(t);i=r?function(e){return u.hydrate(r(e))}:u.hydrate,o=a?function(e){return a(u.serializer.serialize(e))}:u.serializer.serialize,this.hydrate=i,this.serialize=o,this.schema=t}function p(e){return function(n,t){var a=this.hydrate(n),i=this.hydrate(t),s=r[e](a,i);return this.serialize(s)}}function h(e){return function(n,t){var a=this.hydrate(n),i=this.hydrate(t);return r[e](a,i)}}for(var y in i.assignSymbols(d.prototype,{"can.getSchema":function(){return this.schema}}),i.assign(d.prototype,{union:p("union"),difference:p("difference"),intersection:p("intersection"),isEqual:h("isEqual"),isProperSubset:h("isProperSubset"),isSubset:h("isSubset"),isSpecial:r.isSpecial,isDefinedAndHasMembers:r.isDefinedAndHasMembers,count:function(e){var n=this.hydrate(e);return n.page.end-n.page.start+1},identityKeys:function(){return this.schema.identity},filterMembers:function(e,n,t){var r=this.hydrate(e);if(arguments.length>=3){var a=this.hydrate(n);return r.filterFrom(t,a)}return r.filterFrom(n)},filterMembersAndGetCount:function(e,n,t){var r=this.hydrate(e),a=this.hydrate(n);return r.filterMembersAndGetCount(t,a)},unionMembers:function(e,n,t,r){var a=this.hydrate(e),s=this.hydrate(n),o=this.schema;return a.merge(s,t,r,function(e){return i.getIdentity(e,o)})},isMember:function(e,n){return this.hydrate(e).isMember(n)},memberIdentity:function(e){return i.getIdentity(e,this.schema)},index:function(e,n,t){return this.hydrate(e).index(t,n)},insert:function(e,n,t){var r=this.index(e,n,t);void 0===r&&(r=n.length);var a=n.slice(0);return a.splice(r,0,t),a},isPaginated:function(e){var n=this.hydrate(e);return!r.isEqual(n.page,r.UNIVERSAL)},removePagination:function(e){var n=this.hydrate(e);return n.removePagination(),this.serialize(n)}}),r)void 0===d[y]&&(d[y]=r[y]);d.makeEnum=function(e){var n=function(){};return n[l]=function(e){return e},f(n,e),n},d.KeysAnd=o.KeysAnd,d.ValuesOr=o.Or,d.In=u.In,d.NotIn=u.NotIn,d.GreaterThan=u.GreaterThan,d.GreaterThanEqual=u.GreaterThanEqual,d.LessThan=u.LessThan,d.LessThanEqual=u.LessThanEqual,d.ValueAnd=u.And,d.ValueOr=u.Or,t.exports=d}),define("can-fixture@3.1.7#matches",["require","exports","module","can-query-logic/src/set","can-reflect","./data-from-url","can-query-logic"],function(e,n,t){var r=e("can-query-logic/src/set"),a=e("can-reflect"),i=e("./data-from-url"),s=e("can-query-logic");function o(e){if(e.fixture||e.xhr||e.data){var n=a.serialize(e);return delete n.fixture,delete n.xhr,delete n.data,n}return e}var u={intersection:function(e,n){return e.value===n.value?e:r.EMPTY},difference:function(e,n){return e.value===n.value?r.EMPTY:e},union:function(e,n){return e.value===n.value?e:r.UNDEFINABLE}};function c(e){var n=function(){},t=function(e){this.value=e};return t.prototype.isMember=function(n,t,r){return e(this.value,n,t,r)},a.assignSymbols(n,{"can.SetType":t}),r.defineComparison(t,t,u),r.defineComparison(r.UNIVERSAL,t,{difference:function(){return r.UNDEFINABLE}}),n}function l(e,n){var t=e.data,i=n.data;if(t&&i&&!function e(n,t){if(n===t)return!0;if(Array.isArray(n)&&Array.isArray(t))return n.every(function(n,r){return e(n,t[r])});if(n&&t&&a.isPlainObject(n)&&a.isPlainObject(t)){for(var r in n){if(!t.hasOwnProperty(r))return!1;if(!e(n[r],t[r]))return!1}return!0}return!1}(t,i))return!1;var u=new s.KeysAnd(o(e)),c=new s.KeysAnd(o(n));return r.isEqual(u,c)}var f={};a.eachKey({IsEmptyOrNull:function(e,n){return null==e&&0===a.size(n)||null==n&&0===a.size(e)||l(e,n)},isEmptyOrSubset:function(e,n){return null==e&&0===a.size(n)||null==n&&0===a.size(e)||(t=e,i=n,r.isSubset(new s.KeysAnd(t),new s.KeysAnd(i)));var t,i},TemplateUrl:function(e,n){return!!i(e,n)},StringIgnoreCase:function(e,n){return n&&e?e.toLowerCase()===n.toLowerCase():n===e},Ignore:function(){return!0}},function(e,n){f[n]=c(e)});var d={identity:["id"],keys:{url:f.TemplateUrl,fixture:f.Ignore,xhr:f.Ignore,type:f.StringIgnoreCase,method:f.StringIgnoreCase,helpers:f.Ignore,headers:f.IsEmptyOrNull,data:f.IsEmptyOrSubset}},p=new s(d);t.exports={fixture:l,request:function(e,n){return p.isMember({filter:n},e)},matches:function(e,n,t){return t?this.fixture(e,n):this.request(e,n)},makeComparatorType:c}}),define("can-memory-store@1.0.3#make-simple-store",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect");t.exports=function e(n){n.constructor=e;var t=Object.create(n);return r.assignMap(t,{getRecordFromParams:function(e){var n=r.getIdentity(e,this.queryLogic.schema);return this.getRecord(n)},log:function(){this._log=!0},getSets:function(){return this.getQueries()},getQueries:function(){return Promise.resolve(this.getQueriesSync())},getQueriesSync:function(){return this.getQueryDataSync().map(function(e){return e.query})},getListData:function(e){e=e||{};var n=this.getListDataSync(e);return n?Promise.resolve(n):Promise.reject({title:"no data",status:"404",detail:"No data available for this query.\nAvailable queries: "+JSON.stringify(this.getQueriesSync())})},getPaginatedListDataSync:function(e){var n=this.getAllRecords(),t=this.queryLogic.removePagination(e.query),a=this.queryLogic.filterMembersAndGetCount(t,{},n),i=function(e,n,t){for(var a=r.getSchema(t),i=0;i<e.length;i++)if(n===r.getIdentity(e[i],a))return i;return-1}(a.data,e.startIdentity,this.queryLogic),s=a.data.slice(i,i+this.queryLogic.count(e.query));return{count:a.data.length,data:s}},getListDataSync:function(e){for(var n,t=this.getQueryDataSync(),r=this.queryLogic.isPaginated(e),a=0;a<t.length;a++){var i=t[a].query;this.queryLogic.isSubset(e,i)&&(n=t[a])}var s=this.getAllRecords();if(r&&this.queryLogic.isPaginated(n.query)){var o=this.getPaginatedListDataSync(n);return this.queryLogic.filterMembersAndGetCount(e,n.query,o.data)}var u=this.queryLogic.filterMembersAndGetCount(e,{},s);return u&&u.count?u:n?{count:0,data:[]}:void 0},updateListData:function(e,n){var t=this.getQueryDataSync();n=n||{};var a=function(e){return Array.isArray(e)?e:e.data}(r.serialize(e));this.updateRecordsSync(a);var i=this.queryLogic.isPaginated(n),s=a.length?r.getIdentity(a[0],this.queryLogic.schema):void 0;if(i){for(var o=0;o<t.length;o++){var u=t[o].query,c=this.queryLogic.union(u,n);if(this.queryLogic.isDefinedAndHasMembers(c)){var l=this.getPaginatedListDataSync(t[o]),f=this.queryLogic.unionMembers(u,n,l.data,a);return s=r.getIdentity(f[0],this.queryLogic.schema),t[o]={query:c,startIdentity:s},this.updateQueryDataSync(t),Promise.resolve()}}return t.push({query:n,startIdentity:s}),this.updateQueryDataSync(t),Promise.resolve()}var d=this.getAllRecords(),p=this.queryLogic.filterMembers(n,d);if(p.length){var h=new Map;p.forEach(function(e){h.set(r.getIdentity(e,this.queryLogic.schema),e)},this),a.forEach(function(e){h.delete(r.getIdentity(e,this.queryLogic.schema))},this),this.destroyRecords(r.toArray(h))}var y=this.getQueryDataSync().filter(function(e){return!this.queryLogic.isSubset(e.query,n)},this);return y.filter(function(e){return this.queryLogic.isSubset(n,e.query)},this).length?this.updateQueryDataSync(y):this.updateQueryDataSync(y.concat([{query:n,startIdentity:s}])),Promise.resolve()},getData:function(e){var n=r.getIdentity(e,r.getSchema(this.queryLogic)),t=this.getRecord(n);return t?Promise.resolve(t):Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."})},createData:function(e){return this.updateRecordsSync([e]),Promise.resolve(r.assignMap({},this.getRecordFromParams(e)))},updateData:function(e){if(this.errorOnMissingRecord&&!this.getRecordFromParams(e)){var n=r.getIdentity(e,this.queryLogic.schema);return Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."})}return this.updateRecordsSync([e]),Promise.resolve(r.assignMap({},this.getRecordFromParams(e)))},destroyData:function(e){var n=r.getIdentity(e,this.queryLogic.schema),t=this.getRecordFromParams(e);return this.errorOnMissingRecord&&!t?Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."}):(this.destroyRecords([e]),Promise.resolve(r.assignMap({},t||e)))}})}}),define("can-memory-store@1.0.3#can-memory-store",["require","exports","module","can-reflect","can-namespace","./make-simple-store"],function(e,n,t){var r=e("can-reflect"),a=e("can-namespace"),i=e("./make-simple-store");t.exports=a.memoryStore=function e(n){n.constructor=e;var t=Object.create(i(n));return r.assignMap(t,{clear:function(){this._instances={},this._queryData=[]},_queryData:[],updateQueryDataSync:function(e){this._queryData=e},getQueryDataSync:function(){return this._queryData},_instances:{},getRecord:function(e){return this._instances[e]},getAllRecords:function(){var e=[];for(var n in this._instances)e.push(this._instances[n]);return e},destroyRecords:function(e){r.eachIndex(e,function(e){var n=r.getIdentity(e,this.queryLogic.schema);delete this._instances[n]},this)},updateRecordsSync:function(e){e.forEach(function(e){var n=r.getIdentity(e,this.queryLogic.schema);this._instances[n]=e},this)}}),t}}),define("can-fixture@3.1.7#store",["require","exports","module","can-query-logic","can-reflect","can-memory-store"],function(e,n,t){var r=e("can-query-logic"),a=e("can-reflect"),i=e("can-memory-store"),s=function(e,n){return function(t,r){this.connection[e](n.call(this,t.data)).then(function(e){r(e)},function(e){r(parseInt(e.status,10),e)})}},o=function(e,n){return function(){var t=[],r=0,i="number";return e.forEach(function(e){t.push(a.serialize(e));var s=typeof e[n];"number"===s?r=Math.max(e[n],r):i=s}),{maxId:r,items:t,idType:i}}},u=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var n=+e;return isNaN(n)?e:n}},c=function(e,n,t){var r=e.queryLogic.schema,a=r.identity[0],i=r.keys;for(var s in i&&i[a]||console.warn("No type specified for identity key. Going to convert strings to reasonable type."),this.connection=e,this.makeItems=n,this.idProp=t,this.reset(),c.prototype)this[s]=this[s].bind(this)};function l(e){var n=this.connection.queryLogic.schema,t=this.idType,r=n.identity[0],i=n.keys;i&&i[r]||((i={})[r]=function(e){return"string"===t?""+e:"string"==typeof e?u(e):e});var s={};return a.eachKey(e,function(e,n){i[n]?s[n]=a.serialize(a.convert(e,i[n])):s[n]=e}),s}function f(e){return e&&"identityKeys"in e}a.assignMap(c.prototype,{getListData:s("getListData",function(e){return e}),getData:s("getData",l),createData:function(e,n){var t=this.idProp;e.data[t]=++this.maxId,this.connection.createData(l.call(this,e.data)).then(function(e){n(e)},function(e){n(403,e)})},createInstance:function(e){var n=this.idProp;return n in e||(e[n]=++this.maxId),this.connection.createData(e)},updateData:s("updateData",l),updateInstance:function(e){return this.connection.updateData(e)},destroyInstance:function(e){return this.connection.destroyData(e)},destroyData:s("destroyData",l),reset:function(e){e&&(this.makeItems=o(e,this.idProp));var n=this.makeItems();this.maxId=n.maxId,this.idType=n.idType,this.connection.updateListData(n.items,{})},get:function(e){var n=this.connection.queryLogic.memberIdentity(e);return this.connection.getRecord(n)},getList:function(e){return this.connection.getListDataSync(e)}}),c.make=function(e,n,t){var a,s;"number"==typeof e?(t?f(t)||(t=new r(t)):t=new r({}),s=t.identityKeys()[0]||"id",a=function(){for(var t=[],r=0,a=0;a<e;a++){var i=n(a,t);i[s]||(i[s]=a),r=Math.max(i[s],r),t.push(i)}return{maxId:r,items:t}}):Array.isArray(e)&&((t=n)?f(t)||(t=new r(t)):t=new r({}),s=t.identityKeys()[0]||"id",a=o(e,s));var u=i({queryLogic:t,errorOnMissingRecord:!0});return new c(u,a,s)},t.exports=c}),define("can-fixture@3.1.7#core",["require","exports","module","can-key/sub/sub","can-reflect","./matches","can-log","can-log/dev/dev","./data-from-url","./store"],function(e,n,t){"use strict";var r=e("can-key/sub/sub"),a=e("can-reflect"),i=e("./matches"),s=e("can-log"),o=e("can-log/dev/dev"),u=e("./data-from-url");e("./store");var c=[];n.fixtures=c;var l={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};function f(e){var n=e.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);return n?[n[1],n[2]]:[void 0,e]}function d(e,n){var t={},r=f(e),a=r[0],i=function(e,n){if(!(n=n||function(e){var n=e.match(/\{(.*)\}/);if(n&&2===n.length)return n[1]}(e)))return[void 0,e];var t=new RegExp("\\/\\{"+n+"\\}.*"),r=t.test(e),a=r?e.replace(t,""):e;return[r?e:e.trim()+"/{"+n+"}",a]}(r[1],n.idProp),s=i[0],u=i[1];if(a){var c=['fixture("'+e+'", fixture) must use a store method, not a store directly.'];if(s){var d=l.item[a];if(d){t[a+" "+s]=n[d];var p='Replace with fixture("'+a+" "+s+'", fixture.'+d+") for items.";c.push(p)}}var h=l.list[a];if(h){t[a+" "+u]=n[h];var y='Replace with fixture("'+a+" "+u+'", fixture.'+h+") for lists.";c.push(y)}var v=c.join(" ");o.warn(v)}else{var m=l.item;for(var g in m){var T=m[g];t[g+" "+s]=n[T]}var b=l.list;for(var E in b){var q=b[E];t[E+" "+u]=n[q]}}return t}n.add=function(e,t){if(void 0===t){var r=[];if(!Array.isArray(e))return a.eachKey(e,function(e,t){r=r.concat(n.add(t,e))}),r;a.eachIndex(e,function(e){var t=e.fixture;return delete(e=a.assignMap({},e)).fixture,n.add(e,t)})}return function(e){return e&&(e.getData||e.getListData)}(t)?(e=d(e,t),n.add(e)):("string"==typeof e&&(s=(i=f(e))[0],o=i[1],e=s?{type:s,url:o}:{url:o}),function(e,t,r){var a,i=n.index(t,!0);if(i>-1&&(a=c.splice(i,1)),null==r)return a;if("object"==typeof r){var s=r;r=function(){return s}}return t.fixture=r,c.unshift(t),a}(0,e,t));var i,s,o};var p=n.add;function h(e,n){this.statusCode=n[0],this.responseBody=n[1],this.headers=n[2],this.statusText=n[3],this.fixture=e}p.on=!0,p.delay=10,n.callDynamicFixture=function(e,t,r){e.data=t.data;var i=function(){var a=n.extractResponse.apply(e,arguments);return s.log("can-fixture: "+e.type.toUpperCase()+" "+e.url+" ",e.data," => ",new h(t.fixture,a)),r.apply(this,a)},o=function(){var n=t.fixture(e,i,e.headers,t);a.isPromise(n)?n.then(function(e){void 0!==e&&i(200,e)}):void 0!==n&&i(200,n)};return e.async?setTimeout(o,p.delay):(o(),null)},n.index=function(e,n){for(var t=0;t<c.length;t++)if(i.matches(e,c[t],n))return t;return-1},n.get=function(e){if(p.on){var t=n.index(e,!0);-1===t&&(t=n.index(e,!1));var i=t>=0?a.assignMap({},c[t]):void 0;if(i){var s=i.fixture,o=u(i.url,e.url);if("string"==typeof i.fixture)o&&(s=r(s,o)),i.url=s,i.data=null,i.type="GET",i.error||(i.error=function(e,n,t){throw"fixtures.js Error "+n+" "+t});else if(a.isPlainObject(e.data)||null==e.data){var l=a.assignMap({},e.data||{});i.data=a.assignMap(l,o)}else i.data=e.data}return i}},n.matches=i,n.extractResponse=function(e,n,t,r){return"number"!=typeof e&&(t=n,n=e,e=200),"string"==typeof t&&(r=t,t={}),[e,n,t,r]}}),define("can-deparam@1.2.2#can-deparam",["require","exports","module","can-namespace"],function(e,n,t){"use strict";var r=e("can-namespace"),a=/^\d+$/,i=/([^\[\]]+)|(\[\])/g,s=/([^?#]*)(#.*)?$/,o=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,u={"#":!0,"?":!0},c=function(e){!0===u[e.charAt(0)]&&(e=e.substr(1)),e=e.replace(/\+/g," ");try{return decodeURIComponent(e)}catch(n){return decodeURIComponent(e.replace(o,function(e,n){return"%25"+n}))}};function l(e){return a.test(e)||"[]"===e}function f(e){return e}t.exports=r.deparam=function(e,n){n=n||f;var t,r={};return e&&s.test(e)&&e.split("&").forEach(function(e){var a=e.split("="),s=c(a.shift()),o=c(a.join("=")),u=r;if(s){for(var f=0,d=(a=s.match(i)).length-1;f<d;f++){var p=a[f],h=a[f+1],y=l(p)&&u instanceof Array;u[p]||(y?u.push(l(h)?[]:{}):u[p]=l(h)?[]:{}),u=y?u[u.length-1]:u[p]}l(t=a.pop())?u.push(n(o)):u[t]=n(o)}}),r}}),define("can-fixture@3.1.7#xhr",["require","exports","module","./core","can-deparam","can-reflect","can-log"],function(e,n,t){!function(e,n,t,r){"use strict";var a=n("./core"),i=n("can-deparam"),s=n("can-reflect"),o=n("can-log"),u=XMLHttpRequest,c=void 0!==e?e:window,l=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],f=["abort","error","load","loadend","loadstart","progress","readystatechange"];function d(e,n){for(var t=e.__events[n]||[],r=0,a=t.length;r<a;r++)t[r].call(e)}function p(e,n,t){Object.defineProperty(e,n,{enumerable:!1,configurable:!0,writable:!0,value:t})}!function(){var e=new u;for(var n in e)0===n.indexOf("on")?-1===f.indexOf(n.substr(2))&&f.push(n.substr(2)):-1===l.indexOf(n)&&"function"!=typeof e[n]&&l.push(n)}(),c.XMLHttpRequest=function(){var e=this,n=new u;p(this,"_xhr",n),p(this,"_requestHeaders",{}),p(this,"__events",{}),f.forEach(function(t){n["on"+t]=function(){if(d(e,t),e["on"+t])return e["on"+t].apply(e,arguments)}}),this.onload=null},c.XMLHttpRequest._XHR=u,s.assignMap(XMLHttpRequest.prototype,{setRequestHeader:function(e,n){this._requestHeaders[e]=n},open:function(e,n,t){this.type=e,this.url=n,this.async=!1!==t},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,n){(this.__events[e]=this.__events[e]||[]).push(n)},removeEventListener:function(e,n){var t=this.__events[e]=this.__events[e]||[],r=t.indexOf(n);r>=0&&t.splice(r,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var n=this.type.toLowerCase()||"get",t={url:this.url,data:e,headers:this._requestHeaders,type:n,method:n,async:this.async,xhr:this};if((!t.data&&"get"===t.type||"delete"===t.type)&&(t.data=i(t.url.split("?")[1]),t.url=t.url.split("?")[0]),"string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){t.data=i(t.data)}var r=a.get(t),u=this;if(!r||"function"!=typeof r.fixture){var c=function(){return u._xhr.open(u._xhr.type,u._xhr.url,u._xhr.async),u._requestHeaders&&Object.keys(u._requestHeaders).forEach(function(e){u._xhr.setRequestHeader(e,u._requestHeaders[e])}),u._xhr.send(e)};return r&&"number"==typeof r.fixture?(o.log("can-fixture: "+t.url+" => delay "+r.fixture+"ms"),void(this.timeoutId=setTimeout(c,r.fixture))):(r&&(o.log("can-fixture: "+t.url+" => "+r.url),s.assignMap(u,r)),c())}this.timeoutId=a.callDynamicFixture(t,r,function(e,n,t,r){n="string"==typeof n?n:JSON.stringify(n),u._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},s.assignMap(u,{readyState:4,status:e}),e>=200&&e<300||304===e?s.assignMap(u,{statusText:r||"OK",responseText:n}):s.assignMap(u,{statusText:r||"error",responseText:n}),u.getAllResponseHeaders=function(){var e=[];return s.eachKey(t||{},function(n,t){Array.prototype.push.apply(e,[t,": ",n,"\r\n"])}),e.join("")},u.onreadystatechange&&u.onreadystatechange({target:u}),d(u,"progress"),u.onprogress&&u.onprogress(),d(u,"load"),u.onload&&u.onload(),d(u,"loadend"),u.onloadend&&u.onloadend()})}}),l.forEach(function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(n){try{this._xhr[e]=n}catch(e){}}})})}(function(){return this}(),e)}),define("can-fixture@3.1.7#fixture",["require","exports","module","./core","./store","./xhr","can-reflect","can-log/dev/dev","can-namespace"],function(e,n,t){!function(e,n,t,r){"use strict";var a=n("./core"),i=a.add,s=n("./store");n("./xhr");var o=n("can-reflect"),u=n("can-log/dev/dev"),c=n("can-namespace"),l=function(){};o.assignMap(i,{rand:function e(n,t,r){if("number"==typeof n)return"number"==typeof t?n+Math.floor(Math.random()*(t-n+1)):Math.floor(Math.random()*(n+1));var a=n.slice(0);void 0===t?(t=1,r=a.length):void 0===r&&(r=t);for(var i=[],s=t+Math.round(e(r-t)),o=0;o<s;o++){var u=e(a.length-1),c=a.splice(u,1)[0];i.push(c)}return i},xhr:function(e){return o.assignMap({},{abort:l,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:l,overrideMimeType:l,readyState:4,responseText:"",responseXML:null,send:l,setRequestHeader:l,status:200,statusText:"OK"},e)},store:s.make,fixtures:a.fixtures}),"undefined"!=typeof window&&"function"!=typeof n.resolve&&(window.fixture=function(){return u.warn("You are using the global fixture. Make sure you import can-fixture."),i.apply(this,arguments)}),r.exports=c.fixture=i}(0,e,0,t)}),define("spectre-canjs@4.2.4#sp-form/demo/full/fixtures",["can-fixture@3.1.7#fixture"],function(e){"use strict";var n,t=(n=e)&&n.__esModule?n:{default:n};t.default.delay=2e3,(0,t.default)({method:"POST",url:"/upload"},function(e,n,t,r){try{var a=Array.from(e.data.entries()).filter(function(e){return"uri"===e[0]})[0][1],i=function(e){var n=new FileReader;return n.readAsDataURL(e),n.onerror=function(e){console.log("Error: ",e)},n}(a);i.onload=function(){n({uri:i.result,id:a.name},{"content-type":"application/json"})}}catch(e){dev.warn(e)}}),(0,t.default)({method:"DELETE",url:"/upload/{id}"},function(e,n,t,r){console.warn(e),n({result:"success"})})}),define("spectre-canjs@4.2.4#sp-form/demo/full/full",["exports","spectre-canjs@4.2.4#sp-form/demo/full/full.stache!steal-stache@5.0.0#steal-stache","json-pretty-html@1.1.6#dist/bundle","flatpickr@4.6.3#dist/flatpickr","can-define@2.8.0#map/map","spectre-canjs@4.2.4#sp-form/sp-form","spectre-canjs@4.2.4#sp-form/fields/sp-text-field/sp-text-field","spectre-canjs@4.2.4#sp-form/fields/sp-select-field/sp-select-field","spectre-canjs@4.2.4#sp-form/fields/sp-subform-field/sp-subform-field","spectre-canjs@4.2.4#sp-form/fields/sp-check-field/sp-check-field","spectre-canjs@4.2.4#sp-form/demo/full/full.less!steal-less@1.3.4#less","flatpickr@4.6.3#dist/flatpickr.css!steal-css@1.3.2#css","spectre-canjs@4.2.4#sp-form/demo/full/fixtures","can-component@5.0.0#can-component","can-namespace@1.0.0#can-namespace","can-bind@1.5.1#can-bind","can-reflect@1.18.0#can-reflect","can-reflect@1.18.0#reflections/call/call","can-symbol@1.6.5#can-symbol","can-reflect@1.18.0#reflections/type/type","can-reflect@1.18.0#reflections/helpers","can-reflect@1.18.0#reflections/get-set/get-set","can-reflect@1.18.0#reflections/observe/observe","can-reflect@1.18.0#reflections/shape/shape","can-reflect@1.18.0#reflections/shape/schema/schema","can-reflect@1.18.0#reflections/get-name/get-name","can-reflect@1.18.0#types/map","can-reflect@1.18.0#types/set","can-queues@1.3.2#can-queues","can-log@1.0.2#dev/dev","can-log@1.0.2#can-log","can-queues@1.3.2#queue","can-queues@1.3.2#queue-state","can-assign@1.3.3#can-assign","can-queues@1.3.2#priority-queue","can-queues@1.3.2#completion-queue","can-queues@1.3.2#dom-order-queue","can-queues@1.3.2#sorted-index-by","can-queues@1.3.2#element-sort","can-reflect-dependencies@1.1.2#can-reflect-dependencies","can-reflect-dependencies@1.1.2#src/add-mutated-by","can-reflect-dependencies@1.1.2#src/delete-mutated-by","can-reflect-dependencies@1.1.2#src/get-dependency-data-of","can-reflect-dependencies@1.1.2#src/is-function","can-construct@3.5.6#can-construct","can-string@1.1.0#can-string","can-stache@5.1.1#can-stache","can-view-parser@4.1.3#can-view-parser","can-attribute-encoder@1.1.4#can-attribute-encoder","can-view-callbacks@5.0.0#can-view-callbacks","can-observation-recorder@1.3.1#can-observation-recorder","can-globals@1.2.2#global/global","can-globals@1.2.2#can-globals-instance","can-globals@1.2.2#can-globals-proto","can-globals@1.2.2#document/document","can-dom-mutate@2.0.8#can-dom-mutate","can-globals@1.2.2#can-globals","can-globals@1.2.2#location/location","can-globals@1.2.2#mutation-observer/mutation-observer","can-globals@1.2.2#is-browser-window/is-browser-window","can-globals@1.2.2#is-node/is-node","can-globals@1.2.2#custom-elements/custom-elements","can-dom-mutate@2.0.8#-util","can-dom-mutate@2.0.8#-is-connected","can-dom-mutate@2.0.8#node","can-dom-mutate@2.0.8#node/node","can-fragment@1.3.1#can-fragment","can-child-nodes@1.2.1#can-child-nodes","can-stache@5.1.1#src/html_section","can-view-target@5.0.0#can-view-target","can-stache@5.1.1#src/utils","can-view-scope@4.13.6#can-view-scope","can-stache-key@1.4.3#can-stache-key","can-reflect-promise@2.2.1#can-reflect-promise","can-key-tree@1.2.2#can-key-tree","can-view-scope@4.13.6#template-context","can-simple-map@4.3.3#can-simple-map","can-event-queue@1.1.8#map/map","can-dom-events@1.3.11#can-dom-events","can-dom-events@1.3.11#helpers/util","can-dom-events@1.3.11#helpers/make-event-registry","can-dom-events@1.3.11#helpers/-make-delegate-event-tree","can-event-queue@1.1.8#dependency-record/merge","can-view-scope@4.13.6#compute_data","can-view-scope@4.13.6#scope-key-data","can-observation@4.2.0#can-observation","can-event-queue@1.1.8#value/value","can-define-lazy-value@1.1.1#define-lazy-value","can-observation@4.2.0#recorder-dependency-helpers","can-observation@4.2.0#temporarily-bind","can-view-scope@4.13.6#make-compute-like","can-single-reference@1.3.0#can-single-reference","can-cid@1.3.1#can-cid","can-stache-helpers@1.2.0#can-stache-helpers","can-simple-observable@2.5.0#can-simple-observable","can-simple-observable@2.5.0#log","can-view-scope@4.13.6#let-context","can-stache@5.1.1#src/key-observable","can-simple-observable@2.5.0#settable/settable","can-stache@5.1.1#src/text_section","can-view-live@5.0.4#can-view-live","can-view-live@5.0.4#lib/attr","can-attribute-observable@2.0.2#behaviors","can-dom-data@1.0.3#can-dom-data","can-diff@1.5.0#list/list","can-view-live@5.0.4#lib/helpers","can-view-live@5.0.4#lib/attrs","can-view-live@5.0.4#lib/html","can-view-live@5.0.4#lib/list","can-diff@1.5.0#patcher/patcher","can-diff@1.5.0#patch-sort/patch-sort","can-view-live@5.0.4#lib/set-observable","can-view-live@5.0.4#lib/text","can-stache@5.1.1#src/mustache_core","can-stache@5.1.1#src/expression","can-stache@5.1.1#expressions/arg","can-stache@5.1.1#expressions/literal","can-stache@5.1.1#expressions/hashes","can-stache@5.1.1#src/expression-helpers","can-simple-observable@2.5.0#setter/setter","can-stache@5.1.1#expressions/bracket","can-stache@5.1.1#expressions/call","can-stache@5.1.1#src/set-identifier","can-stache@5.1.1#expressions/helper","can-stache@5.1.1#expressions/lookup","can-stache@5.1.1#helpers/core","can-globals@1.2.2#base-url/base-url","can-join-uris@1.2.0#can-join-uris","can-parse-uri@1.2.2#can-parse-uri","can-stache@5.1.1#helpers/-debugger","can-stache@5.1.1#src/truthy-observable","can-stache@5.1.1#helpers/converter","can-stache@5.1.1#helpers/-for-of","can-stache@5.1.1#helpers/-let","can-stache@5.1.1#helpers/-portal","can-stache-ast@1.1.0#can-stache-ast","can-stache-ast@1.1.0#controls","can-import-module@1.2.0#can-import-module","can-stache-bindings@5.0.4#can-stache-bindings","can-view-model@4.0.3#can-view-model","can-attribute-observable@2.0.2#can-attribute-observable","can-attribute-observable@2.0.2#event","can-attribute-observable@2.0.2#get-event-name","can-event-dom-radiochange@2.2.1#can-event-dom-radiochange","can-component@5.0.0#control/control","can-control@5.0.1#can-control","can-key@1.2.1#get/get","can-key@1.2.1#utils","can-define@2.8.0#list/list","can-define@2.8.0#can-define","can-simple-observable@2.5.0#async/async","can-simple-observable@2.5.0#resolver/resolver","can-event-queue@1.1.8#type/type","can-string-to-any@1.2.1#can-string-to-any","can-data-types@1.2.1#maybe-boolean/maybe-boolean","can-data-types@1.2.1#maybe-date/maybe-date","can-data-types@1.2.1#maybe-number/maybe-number","can-data-types@1.2.1#maybe-string/maybe-string","can-define@2.8.0#define-helpers/define-helpers","can-define@2.8.0#ensure-meta","spectre-canjs@4.2.4#sp-form/template.stache!steal-stache@5.0.0#steal-stache","can-view-import@5.0.0#can-view-import","spectre-canjs@4.2.4#sp-form/ViewModel","spectre-canjs@4.2.4#util/field/base/FieldIteratorMap","spectre-canjs@4.2.4#util/field/parseFieldArray/parseFieldArray","spectre-canjs@4.2.4#util/field/Field","spectre-canjs@4.2.4#util/string/string","spectre-canjs@4.2.4#util/field/fieldComponents","spectre-canjs@4.2.4#util/field/mapToFields/mapToFields","spectre-canjs@4.2.4#sp-form/widget.less!steal-less@1.3.4#less","spectre-canjs@4.2.4#sp-form/fields/sp-text-field/sp-text-field.stache!steal-stache@5.0.0#steal-stache","spectre-canjs@4.2.4#sp-form/fields/sp-text-field/ViewModel","spectre-canjs@4.2.4#sp-form/fields/sp-select-field/sp-select-field.stache!steal-stache@5.0.0#steal-stache","spectre-canjs@4.2.4#sp-form/fields/sp-select-field/ViewModel","spectre-canjs@4.2.4#sp-admin/util/debounce","spectre-canjs@4.2.4#sp-form/fields/sp-subform-field/sp-subform-field.stache!steal-stache@5.0.0#steal-stache","spectre-canjs@4.2.4#sp-form/fields/sp-subform-field/sp-subform-field.less!steal-less@1.3.4#less","spectre-canjs@4.2.4#sp-form/fields/sp-subform-field/ViewModel","spectre-canjs@4.2.4#sp-form/fields/sp-check-field/template.stache!steal-stache@5.0.0#steal-stache","spectre-canjs@4.2.4#sp-form/fields/sp-check-field/ViewModel","can-fixture@3.1.7#fixture","can-fixture@3.1.7#core","can-key@1.2.1#sub/sub","can-key@1.2.1#delete/delete","can-fixture@3.1.7#matches","can-query-logic@1.2.2#src/set","can-fixture@3.1.7#data-from-url","can-query-logic@1.2.2#can-query-logic","can-query-logic@1.2.2#src/serializers/basic-query","can-query-logic@1.2.2#src/types/basic-query","can-query-logic@1.2.2#src/types/make-real-number-range-inclusive","can-query-logic@1.2.2#src/types/comparisons","can-query-logic@1.2.2#src/array-union-intersection-difference","can-query-logic@1.2.2#src/types/comparisons-common","can-query-logic@1.2.2#src/types/array-comparisons","can-query-logic@1.2.2#src/types/values-not","can-query-logic@1.2.2#src/types/types","can-query-logic@1.2.2#src/types/and-or-not","can-query-logic@1.2.2#src/types/values-or","can-query-logic@1.2.2#src/types/values-and","can-query-logic@1.2.2#src/types/keys-and","can-query-logic@1.2.2#src/helpers","can-query-logic@1.2.2#src/serializers/comparisons","can-query-logic@1.2.2#src/serializer","can-query-logic@1.2.2#src/types/make-maybe","can-query-logic@1.2.2#src/schema-helpers","can-query-logic@1.2.2#src/types/make-enum","can-fixture@3.1.7#store","can-memory-store@1.0.3#can-memory-store","can-memory-store@1.0.3#make-simple-store","can-fixture@3.1.7#xhr","can-deparam@1.2.2#can-deparam"],function(e,n,t,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(n),s=c(t),o=c(r),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}var l=u.default.extend("ChildDemoObject",{json_field_1:"string",json_field_2:{validate:function(e){return 2!=e.value?"The value must be 2":void 0},default:2,editTag:"sp-select-field",defaultLabel:"These values are loading asynchronously!",optionsPromise:new Promise(function(e){setTimeout(function(){e([{value:1,label:"Option 1"},{value:2,label:"Option 2"}])},5e3)})},json_field_3:{type:"number",validate:function(e){var n=parseInt(e.value,10);return!n||n<10?"Please enter a value greater than 10":void 0}},json_field_4:{type:"boolean",editTag:"sp-check-field",style:"switch",serialize:function(e){return String(e)},validate:function(e){return console.log(e.value),e.value?"":"You must agree to these terms"}}}),f=u.default.extend("DemoObject",{field1:{type:"string",default:"Default Value",name:"field1",alias:"Please enter at least 50 characters",validate:function(e){return e.dirty.assign({field1Length:e.value?e.value.length:0}),e.value.length<50&&"This field must contain at least 50 characters"}},field2:{type:"string",name:"field2",alias:"A basic textarea field",textarea:!0,placeholder:"Enter the text: hello",validate:function(e){return"hello"!=e.value?'This field must contain the text, "hello"':""}},field3:{type:"number",default:1,name:"field3",alias:"A select dropdown",editTag:"sp-select-field",validate:function(e){if(1!=e.value)return"This field must be 1"},options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},field3inline:{type:"number",default:1,name:"field3inline",alias:"Inline dropdown",editTag:"sp-select-field",inline:!0,validate:function(e){if(1!=e.value)return"This field must be 1"},options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},field4:{type:"date",serialize:function(e){return e?e.toDateString():"Not set"},name:"field4",onInsert:function(e){var n=(0,o.default)(e);return function(){n.destroy()}},alias:"A date field",ui:"datepicker",placeholder:"Enter a date..."},field6:{Type:l,name:"field6",alias:"A Subform Field",editTag:"sp-subform-field",Default:l,ObjectTemplate:l},field1Length:{edit:!1,type:"number"},field7:{type:"boolean",name:"field7",alias:"A checkbox",editTag:"sp-check-field",default:!1},cascade_1:{type:"string",name:"cascade_1",alias:"Car Make - (cascade dropdown 1)",defaultLabel:"First choose a make...",options:[{value:"Ford"},{value:"Chevy"},{value:"Toyota"}],editTag:"sp-select-field"},cascade_2:{type:"string",name:"cascade_2",alias:"Car Model - (cascade dropdown 2)",defaultLabel:"Then choose a model...",getOptions:function(e){return{Ford:[{value:"Fiesta"},{value:"Focus"},{value:"Taurus"}],Chevy:[{value:"Spark"},{value:"Sonic"},{value:"Bolt"}],Toyota:[{value:"Prius"},{value:"Corolla"},{value:"Camry"}]}[e.cascade_1]||[{value:"None",label:"Choose a make first..."}]},validate:function(e){if(!e.dirty.cascade_1)return"You need to choose a make first"},editTag:"sp-select-field"}}),d=new u.default({object:new f,formSaving:!1,onSubmit:function(){var e=this;console.log(this.object),console.log("submitted data: ",this.object.serialize()),alert("Form submitted! See the console for details"),setTimeout(function(){e.formSaving=!1},3e3)},onCancel:function(){console.log("Form canceled!")},stringify:function(e){if(e)return(0,s.default)(e.serialize())}});e.default=function(){var e=(0,i.default)(d);document.body.appendChild(e)}});
//# sourceMappingURL=full.js.map