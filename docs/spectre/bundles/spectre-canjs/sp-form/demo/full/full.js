define("spectre-canjs@3.6.1#sp-form/demo/full/full.stache!steal-stache@4.1.2#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@4.2.0#can-view-import","can-stache-bindings@4.4.1#can-stache-bindings"],function(e,n,t){var r=n("sp-form/demo/full/full.stache",[{tokenType:"start",args:["h1",!1,1]},{tokenType:"end",args:["h1",!1,1]},{tokenType:"chars",args:["Form Widget Demo",1]},{tokenType:"close",args:["h1",1]},{tokenType:"chars",args:["\n",1]},{tokenType:"start",args:["div",!1,2]},{tokenType:"attrStart",args:["class",2]},{tokenType:"attrValue",args:["columns",2]},{tokenType:"attrEnd",args:["class",2]},{tokenType:"end",args:["div",!1,2]},{tokenType:"chars",args:["\n    ",2]},{tokenType:"start",args:["div",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["col-6 col-sm-12 container",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"end",args:["div",!1,3]},{tokenType:"chars",args:["\n        ",3]},{tokenType:"start",args:["sp-form",!1,4]},{tokenType:"attrStart",args:["object:bind",4]},{tokenType:"attrValue",args:["object",4]},{tokenType:"attrEnd",args:["object:bind",4]},{tokenType:"attrStart",args:["dirty:u:object:to",4]},{tokenType:"attrValue",args:["dirtyObject",4]},{tokenType:"attrEnd",args:["dirty:u:object:to",4]},{tokenType:"attrStart",args:["actions:from",4]},{tokenType:"attrValue",args:["actions",4]},{tokenType:"attrEnd",args:["actions:from",4]},{tokenType:"attrStart",args:["on:submit",4]},{tokenType:"attrValue",args:["onSubmit(scope.arguments)",4]},{tokenType:"attrEnd",args:["on:submit",4]},{tokenType:"attrStart",args:["is:u:saving:bind",4]},{tokenType:"attrValue",args:["formSaving",4]},{tokenType:"attrEnd",args:["is:u:saving:bind",4]},{tokenType:"attrStart",args:["on:cancel",4]},{tokenType:"attrValue",args:["onCancel",4]},{tokenType:"attrEnd",args:["on:cancel",4]},{tokenType:"end",args:["sp-form",!1,10]},{tokenType:"close",args:["sp-form",10]},{tokenType:"chars",args:["\n    ",10]},{tokenType:"close",args:["div",11]},{tokenType:"chars",args:["\n    ",11]},{tokenType:"start",args:["div",!1,12]},{tokenType:"attrStart",args:["class",12]},{tokenType:"attrValue",args:["col-6 col-sm12 container",12]},{tokenType:"attrEnd",args:["class",12]},{tokenType:"end",args:["div",!1,12]},{tokenType:"chars",args:["\n        \n        ",12]},{tokenType:"start",args:["p",!1,14]},{tokenType:"end",args:["p",!1,14]},{tokenType:"chars",args:["Model object values: ",14]},{tokenType:"close",args:["p",14]},{tokenType:"chars",args:["\n        ",14]},{tokenType:"start",args:["div",!1,15]},{tokenType:"attrStart",args:["class",15]},{tokenType:"attrValue",args:["json",15]},{tokenType:"attrEnd",args:["class",15]},{tokenType:"end",args:["div",!1,15]},{tokenType:"special",args:["{stringify (object)",15]},{tokenType:"close",args:["div",15]},{tokenType:"chars",args:["\n        ",15]},{tokenType:"start",args:["div",!0,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["divider",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"end",args:["div",!0,16]},{tokenType:"chars",args:["\n\n        ",16]},{tokenType:"start",args:["p",!1,18]},{tokenType:"end",args:["p",!1,18]},{tokenType:"chars",args:["Dirty field values",18]},{tokenType:"close",args:["p",18]},{tokenType:"chars",args:["\n        ",18]},{tokenType:"start",args:["div",!1,19]},{tokenType:"attrStart",args:["class",19]},{tokenType:"attrValue",args:["json",19]},{tokenType:"attrEnd",args:["class",19]},{tokenType:"end",args:["div",!1,19]},{tokenType:"special",args:["{stringify (dirtyObject)",19]},{tokenType:"close",args:["div",19]},{tokenType:"chars",args:["\n    ",19]},{tokenType:"close",args:["div",20]},{tokenType:"chars",args:["\n",20]},{tokenType:"close",args:["div",21]},{tokenType:"done",args:[21]}]);return function(n,t,a){var s=Object.assign({},t);return s.helpers?s.helpers=Object.assign({module:e},s.helpers):s.module=e,r(n,s,a)}}),define("can-key@1.2.0#delete/delete",["require","exports","module","can-reflect","../utils"],function(e,n,t){"use strict";var r=e("can-reflect"),a=e("../utils");t.exports=function(e,n){for(var t=a.parts(n),s=e,i=0;i<t.length-1;i++)s&&(s=r.getKeyValue(s,t[i]));s&&r.deleteKeyValue(s,t[t.length-1])}}),define("can-key@1.2.0#sub/sub",["require","exports","module","../utils","../get/get","can-reflect","../delete/delete"],function(e,n,t){"use strict";var r=e("../utils"),a=e("../get/get"),s=e("can-reflect"),i=e("../delete/delete");t.exports=function(e,n,t){var o=[];return e=e||"",o.push(e.replace(r.strReplacer,function(e,r){var u=a(n,r);return!0===t&&i(n,r),void 0===u||null===u?(o=null,""):!s.isPrimitive(u)&&o?(o.push(u),""):""+u})),null===o?o:o.length<=1?o[0]:o}}),define("can-query-logic@1.1.1#src/set",["require","exports","module","can-symbol","can-reflect"],function(e,n,t){function r(e){return function(n,t){return e.call(this,t,n)}}function a(e,n,t){var r=e[l];e[l]||(r=e[l]=new Map);var a=r.get(e);a||(a=new Map,r.set(e,a));var s=a.get(n);if(s)for(var i in t)s.hasOwnProperty(i)&&console.warn("Overwriting "+e.name+" "+i+" "+n.name+" comparitor"),s[i]=t[i];else a.set(n,t)}function s(){}var i,o=e("can-symbol"),u=e("can-reflect"),c=function(e){return u.assignSymbols(e,{"can.serialize":function(){return this}})},l=o.for("can.setComparisons"),f={number:s,string:s,undefined:s,boolean:s},d={};["intersection","difference","union"].forEach(function(e){d[e]=function(n,t,r){if(r===i.UNIVERSAL){if("intersection"===e)return t;if("union"===e)return i.UNIVERSAL;if("difference"===e)return i.EMPTY}if(t===i.UNIVERSAL){if("intersection"===e)return t;if("union"===e)return i.UNIVERSAL}if(n&&n[e]){var a=n[e](t,r);return void 0===a&&!0===n.undefinedIsEmptySet?i.EMPTY:a}throw new Error("Unable to perform "+e+" between "+i.getType(t).name+" and "+i.getType(r).name)}});var p={intersection:function(e,n){return e===n?e:i.EMPTY},difference:function(e,n){return e===n?i.EMPTY:e},union:function(e,n){return e===n?e:i.UNDEFINABLE}};(i={UNIVERSAL:u.assignSymbols({name:"UNIVERSAL"},{"can.serialize":function(){return this},"can.isMember":function(){return!0}}),EMPTY:u.assignSymbols({name:"EMPTY"},{"can.serialize":function(){return this},"can.isMember":function(){return!1}}),UNDEFINABLE:c({name:"UNDEFINABLE"}),UNKNOWABLE:c({name:"UNKNOWABLE"}),Identity:s,isSpecial:function(e){return e===i.UNIVERSAL||e===i.EMPTY||e===i.UNDEFINABLE||e===i.UNKNOWABLE},isDefinedAndHasMembers:function(e){return e!==i.EMPTY&&e!==i.UNDEFINABLE&&e!==i.UNKNOWABLE&&e},getType:function(e){return e===i.UNIVERSAL?i.UNIVERSAL:e===i.EMPTY?i.EMPTY:e===i.UNKNOWABLE?i.UNKNOWABLE:null===e?s:f.hasOwnProperty(typeof e)?f[typeof e]:e.constructor},ownAndMemberValue:function(e,n){if(null!=e||null!=n){var t=null!=e?e.valueOf():e,r=null!=n?n.valueOf():n;return null==e||null==n?{own:t,member:r}:(t.constructor!==r.constructor&&(r=new e.constructor(r).valueOf()),{own:t,member:r})}return{own:n,member:e}},getComparisons:function(e,n){var t=e[l];if(t){var r=t.get(e);if(r)return r.get(n)}},hasComparisons:function(e){return!!e[l]},defineComparison:function(e,n,t){if(a(e,n,t),e!==n){var s={};for(var i in t)"difference"!==i&&(s[i]=r(t[i]));a(n,e,s)}},isSubset:function(e,n){if(e===n)return!0;var t=i.getType(e),r=i.getType(n),a=i.getComparisons(t,r);if(a){var s=d.intersection(a,e,n),o=d.difference(a,e,n);return s===i.UNKNOWABLE||o===i.UNKNOWABLE?void 0:s!==i.EMPTY&&o===i.EMPTY}throw new Error("Unable to perform subset comparison between "+t.name+" and "+r.name)},isProperSubset:function(e,n){return i.isSubset(e,n)&&!i.isEqual(e,n)},isEqual:function(e,n){if(e===i.UNKNOWABLE||n===i.UNKNOWABLE)return i.UNKNOWABLE;var t=i.isSpecial(e),r=i.isSpecial(n);if(t&&r)return t===r;var a=i.getType(e),s=i.getType(n);if(e===n)return!0;var o=i.getComparisons(a,s),c=i.getComparisons(s,a);if(o&&c){var l=d.intersection(o,e,n),f=d.difference(o,e,n);if(l!==i.EMPTY&&f===i.EMPTY){var p=d.intersection(c,n,e),h=d.difference(c,n,e);return p!==i.EMPTY&&h===i.EMPTY}return!1}var y=i.ownAndMemberValue(e,n);if(u.isPrimitive(y.own)&&u.isPrimitive(y.member))return y.own===y.member;throw new Error("Unable to perform equal comparison between "+a.name+" and "+s.name)},union:function(e,n){if(e===i.UNIVERSAL||n===i.UNIVERSAL)return i.UNIVERSAL;if(e===i.EMPTY)return n;if(n===i.EMPTY)return e;if(e===i.UNKNOWABLE||n===i.UNKNOWABLE)return i.UNKNOWABLE;var t=i.getType(e),r=i.getType(n),a=i.getComparisons(t,r);return d.union(a,e,n)},intersection:function(e,n){if(e===i.UNIVERSAL)return n;if(n===i.UNIVERSAL)return e;if(e===i.EMPTY||n===i.EMPTY)return i.EMPTY;if(e===i.UNKNOWABLE||n===i.UNKNOWABLE)return i.UNKNOWABLE;var t=i.getType(e),r=i.getType(n),a=i.getComparisons(t,r);if(a)return d.intersection(a,e,n);throw new Error("Unable to perform intersection comparison between "+t.name+" and "+r.name)},difference:function(e,n){if(e===i.EMPTY)return i.EMPTY;if(n===i.EMPTY)return e;if(e===i.UNKNOWABLE||n===i.UNKNOWABLE)return i.UNKNOWABLE;var t=i.getType(e),r=i.getType(n),a=i.getComparisons(t,r);if(a)return d.difference(a,e,n);throw new Error("Unable to perform difference comparison between "+t.name+" and "+r.name)},indexWithEqual:function(e,n){for(var t=0,r=e.length;t<r;t++)if(i.isEqual(e[t],n))return t;return-1}}).defineComparison(s,s,p),i.defineComparison(i.UNIVERSAL,i.UNIVERSAL,p),t.exports=i}),define("can-fixture@3.0.0#data-from-url",function(e,n,t){var r=/\{([^\}]+)\}/g;t.exports=function(e,n){if(!e)return{};var t=[],a=e.replace(".","\\.").replace("?","\\?"),s=new RegExp(a.replace(r,function(e,n){return t.push(n),"([^/]+)"})+"$").exec(n),i={};return s?(s.shift(),t.forEach(function(e){i[e]=s.shift()}),i):null}}),define("can-query-logic@1.1.1#src/array-union-intersection-difference",["require","exports","module","./set"],function(e,n,t){function r(e){return null==e?e:e.valueOf()}var a=e("./set");t.exports=function(e,n){var t=new Set,s=[],i=[],o=e.slice(0);return e.forEach(function(e){t.add(r(e)),i.push(e)}),n.forEach(function(e){if(t.has(r(e))){s.push(e);var n=a.indexWithEqual(o,e);-1!==n&&o.splice(n,1)}else i.push(e)}),{intersection:s,union:i,difference:o}}}),define("can-query-logic@1.1.1#src/types/comparisons",["require","exports","module","../set","../array-union-intersection-difference","can-symbol"],function(e,n,t){function r(e){return function(n,t){return null!=n&&null!=t&&e(n,t)}}function a(e){return function(n,t){return n===t||null!=n&&null!=t&&e(n,t)}}function s(e){var n=x.ownAndMemberValue(this.value,e);return this.constructor.test(n.member,n.own)}function i(e){return this.constructor.test(this.values,e)}function o(e){return{test:function(n,t){return!e.test(n,t)}}}function u(e,n,t){return function(r,a){var s=N(r.values,a.values);return s[e].length?new n(s[e]):t||x.EMPTY}}function c(e){return function(n,t){return e(t,n)}}function l(e,n){return function(t,r){return new e(r[n||"value"])}}function f(e,n){return e.value<n.value?n:e}function d(e,n){return e.value>n.value?n:e}function p(e,n){return function(t,r){return e.test(t.value,r.value)?I([t,new n(r.value)]):x.EMPTY}}function h(e,n){var t=p(e,n);return function(e,n){return e.value===n.value?new O.In([e.value]):t(e,n)}}function y(e,n,t){return function(r,a){var s=r.values.filter(function(n){return e.test(a,n)});return s.length?new n(s):t||x.EMPTY}}function v(e){return e instanceof O.Or}function m(e){return e instanceof O.And}function g(e){return m(e)||v(e)}function b(e){return function(n,t){var r,a=n.values.filter(function(n){return e.values.test(t,n)});return r=e.complement?x.difference(x.UNIVERSAL,t):e.with?new e.with(t.value):t,a.length?e.combinedUsing([new e.arePut(a),r]):r}}function E(e,n){return function(t,r){return e.test(t.value,r.value)?n||x.UNIVERSAL:L([t,r])}}function T(e,n){return function(t,r){return e.test(t.value,r.value)?n||x.EMPTY:I([t,r])}}function q(e){return function(n,t){return e.test(n.value,t.value)?x.difference(x.UNIVERSAL,t):n}}function I(e){return S.And?new S.And(e):x.UNDEFINABLE}function L(e){return S.Or?new S.Or(e):x.UNDEFINABLE}function w(e,n,t){var r=new t(n.value),a=e.values.filter(function(e){return!r.isMember(e)});return a.length?L(a.length<e.values.length?[new O.In(a),r]:[e,n]):r}function A(e,n){if(n instanceof O.Or){var t=A(e,n.values[0]);if(!(t instanceof O.Or))return x.union(t,n.values[1]);var r=A(e,n.values[1]);return r instanceof O.Or?L([e,n]):x.union(r,n.values[0])}return n instanceof O.GreaterThan?w(e,n,O.GreaterThanEqual):n instanceof O.LessThan?w(e,n,O.LessThanEqual):L([e,n])}var x=e("../set"),N=e("../array-union-intersection-difference"),k=e("can-symbol").for("can.isMember"),S={In:function(e){this.values=e},NotIn:function(e){this.values=e},GreaterThan:function(e){this.value=e},GreaterThanEqual:function(e){this.value=e},LessThan:function(e){this.value=e},LessThanEqual:function(e){this.value=e},And:function(e){this.values=e},Or:function(e){this.values=e}};S.Or.prototype.orValues=function(){return this.values},S.In.test=function(e,n){return e.some(function(e){var t=x.ownAndMemberValue(e,n);return t.own===t.member})},S.NotIn.test=function(e,n){return!S.In.test(e,n)},S.NotIn.testValue=function(e,n){return!S.In.testValue(e,n)},S.GreaterThan.test=r(function(e,n){return e>n}),S.GreaterThanEqual.test=a(function(e,n){return e>=n}),S.LessThan.test=r(function(e,n){return e<n}),S.LessThanEqual.test=a(function(e,n){return e<=n}),[S.GreaterThan,S.GreaterThanEqual,S.LessThan,S.LessThanEqual,S.LessThan].forEach(function(e){e.prototype.isMember=s}),[S.In,S.NotIn].forEach(function(e){e.prototype.isMember=i}),S.And.prototype.isMember=function(e){return this.values.every(function(n){return n.isMember(e)})},S.Or.prototype.isMember=function(e){return this.values.some(function(n){return n.isMember(e)})},Object.keys(S).forEach(function(e){S[e].prototype[k]=S[e].prototype.isMember});var M={test:function(e,n){return e.isMember(n)}},O=S,P={union:b({values:o(M),arePut:O.In,combinedUsing:function(e){return A(e[0],e[1])}}),intersection:y(M,O.In,x.EMPTY),difference:y(o(M),O.In,x.EMPTY)},_={difference:c(b({values:M,arePut:O.NotIn,combinedUsing:I}))},U=function(){return{union:y(o(M),O.NotIn,x.UNIVERSAL),intersection:b({values:M,arePut:O.NotIn,combinedUsing:I}),difference:b({values:o(M),arePut:O.NotIn,combinedUsing:I,complement:!0})}},R={difference:c(y(M,O.In,x.EMPTY))},V=function(e,n){var t=x.union(e,n.values[0]),r=x.union(e,n.values[1]);return g(t)||g(r)?new O.Or([e,n]):x.intersection(t,r)},j=function(e,n){var t=n.values[0],r=n.values[1],a=x.intersection(e,t),s=x.intersection(e,r);return a===x.EMPTY||s===x.EMPTY?x.EMPTY:g(a)?g(s)?new O.And([e,n]):new x.intersection(s,t):new x.intersection(a,r)},D=function(e,n){var t=n.values[0],r=n.values[1],a=x.difference(e,t),s=x.difference(e,r);return a===x.EMPTY?s:s===x.EMPTY?a:new O.Or([a,s])},G=function(e,n){var t=e.values[0],r=e.values[1],a=x.difference(t,n),s=x.difference(r,n);return x.intersection(a,s)},C={union:function(e,n){var t=n.values[0],r=n.values[1],a=x.union(e,t);if(!g(a))return x.union(a,r);var s=x.union(e,r);return g(s)?new O.Or([e,n]):x.union(t,s)},intersection:function(e,n){var t=n.values[0],r=n.values[1],a=x.intersection(e,t),s=x.intersection(e,r);return a===x.EMPTY?s:s===x.EMPTY?a:x.union(a,s)},difference:function(e,n){var t=n.values[0],r=n.values[1],a=x.difference(e,t),s=x.difference(e,r);return x.intersection(a,s)}},Y={difference:function(e,n){var t=e.values[0],r=e.values[1],a=x.difference(t,n),s=x.difference(r,n);return x.union(a,s)}},z={In_In:{union:u("union",O.In),intersection:u("intersection",O.In),difference:u("difference",O.In)},UNIVERSAL_In:{difference:l(O.NotIn,"values")},In_NotIn:{union:c(u("difference",O.NotIn,x.UNIVERSAL)),intersection:u("difference",O.In),difference:u("intersection",O.In)},NotIn_In:{difference:u("union",O.NotIn)},In_GreaterThan:P,GreaterThan_In:_,In_GreaterThanEqual:P,GreaterThanEqual_In:_,In_LessThan:P,LessThan_In:_,In_LessThanEqual:P,LessThanEqual_In:_,In_And:P,And_In:_,In_Or:P,Or_In:_,NotIn_NotIn:{union:u("intersection",O.NotIn,x.UNIVERSAL),intersection:u("union",O.NotIn),difference:u("difference",O.In)},UNIVERSAL_NotIn:{difference:l(O.In,"values")},NotIn_GreaterThan:U(),GreaterThan_NotIn:R,NotIn_GreaterThanEqual:U(),GreaterThanEqual_NotIn:R,NotIn_LessThan:U(),LessThan_NotIn:R,NotIn_LessThanEqual:U(),LessThanEqual_NotIn:R,NotIn_And:U(),And_NotIn:R,NotIn_Or:U(),Or_NotIn:R,GreaterThan_GreaterThan:{union:d,intersection:f,difference:p(O.LessThan,O.LessThanEqual)},UNIVERSAL_GreaterThan:{difference:l(O.LessThanEqual)},GreaterThan_GreaterThanEqual:{union:d,intersection:f,difference:p(O.LessThan,O.LessThan)},GreaterThanEqual_GreaterThan:{difference:h(O.LessThan,O.LessThanEqual)},GreaterThan_LessThan:{union:function(){var e=E(O.LessThan);return function(n,t){return S.In.test([n.value],t.value)?new O.NotIn([n.value]):e(n,t)}}(),intersection:T(O.GreaterThan),difference:q(O.LessThan)},LessThan_GreaterThan:{difference:q(O.GreaterThan)},GreaterThan_LessThanEqual:{union:E(O.LessThanEqual),intersection:T(O.GreaterThanEqual),difference:q(O.LessThanEqual)},LessThanEqual_GreaterThan:{difference:q(O.GreaterThanEqual)},GreaterThan_And:{union:V,intersection:j,difference:D},And_GreaterThan:{difference:G},GreaterThan_Or:C,Or_GreaterThan:Y,GreaterThanEqual_GreaterThanEqual:{union:d,intersection:f,difference:p(O.LessThan,O.LessThan)},UNIVERSAL_GreaterThanEqual:{difference:l(O.LessThan)},GreaterThanEqual_LessThan:{union:E(O.LessThanEqual),intersection:T(O.GreaterThanEqual),difference:q(O.LessThanEqual)},LessThan_GreaterThanEqual:{difference:q(O.GreaterThanEqual)},GreaterThanEqual_LessThanEqual:{union:E(O.LessThanEqual),intersection:function(){var e=T(O.GreaterThan);return function(n,t){var r=new O.In([n.value]);return r.isMember(t.value)?r:e(n,t)}}(),difference:q(O.LessThanEqual)},LessThanEqual_GreaterThanEqual:{difference:q(O.GreaterThanEqual)},GreaterThanEqual_And:{union:V,intersection:j,difference:D},And_GreaterThanEqual:{difference:G},GreaterThanEqual_Or:C,Or_GreaterThanEqual:Y,LessThan_LessThan:{union:f,intersection:d,difference:p(O.GreaterThan,O.GreaterThanEqual)},UNIVERSAL_LessThan:{difference:l(O.GreaterThanEqual)},LessThan_LessThanEqual:{union:f,intersection:d,difference:p(O.GreaterThan,O.GreaterThan)},LessThanEqual_LessThan:{difference:h(O.GreaterThanEqual,O.GreaterThanEqual)},LessThan_And:{union:V,intersection:j,difference:D},And_LessThan:{difference:G},LessThan_Or:C,Or_LessThan:Y,LessThanEqual_LessThanEqual:{union:f,intersection:d,difference:function(e,n){return e.value>=n.value?I([e,new O.GreaterThan(n.value)]):x.EMPTY}},UNIVERSAL_LessThanEqual:{difference:l(O.GreaterThan)},LessThanEqual_And:{union:V,intersection:j,difference:D},And_LessThanEqual:{difference:G},LessThanEqual_Or:C,Or_LessThanEqual:Y,And_And:{union:function(e,n){var t=x.union(e,n.values[0]),r=x.union(e,n.values[1]);return(g(t)||g(r))&&(t=x.union(n,e.values[0]),r=x.union(n,e.values[1])),g(t)||g(r)?new O.Or([e,n]):x.intersection(t,r)},intersection:function(e,n){var t=x.intersection(e.values[0],n.values[0]),r=x.intersection(e.values[1],n.values[1]);return g(t)&&g(r)?(t=x.intersection(e.values[0],n.values[1]),r=x.intersection(e.values[1],n.values[0]),g(t)&&g(r)?new O.And([e,n]):x.intersection(t,r)):x.intersection(t,r)},difference:function(e,n){var t=x.difference(e,n.values[0]),r=x.difference(e,n.values[1]);return x.union(t,r)}},And_Or:{union:function(e,n){var t=x.union(e.values[0],n),r=x.union(e.values[1],n);return g(t)&&g(r)?new O.Or([e,n]):x.intersection(t,r)},intersection:function(e,n){var t=x.intersection(e,n.values[0]),r=x.intersection(e,n.values[1]);return v(t)||v(r)?new O.And([e,n]):x.union(t,r)},difference:function(e,n){var t=x.difference(e,n.values[0]),r=x.difference(e,n.values[1]);return x.intersection(t,r)}},Or_And:{difference:function(e,n){var t=x.difference(e,n.values[0]),r=x.difference(e,n.values[1]);return x.union(t,r)}},UNIVERSAL_And:{difference:function(e,n){var t=x.difference(e,n.values[0]),r=x.difference(e,n.values[1]);return x.union(t,r)}},Or_Or:{union:function(e,n){var t=x.union(e.values[0],n.values[0]),r=x.union(e.values[1],n.values[1]);return g(t)&&g(r)?(t=x.union(e.values[0],n.values[1]),r=x.union(e.values[1],n.values[0]),g(t)&&g(r)?new O.Or([e,n]):x.union(t,r)):x.union(t,r)},intersection:function(e,n){var t=n.values[0],r=n.values[1],a=x.intersection(e,t),s=x.intersection(e,r);return v(a)&&v(s)?(a=x.union(n,e.values[0]),s=x.union(n,e.values[1]),v(a)&&v(s)?new O.Or([e,n]):x.union(a,s)):x.union(a,s)},difference:function(e,n){var t=x.difference(e,n.values[0]),r=x.difference(e,n.values[1]);return x.intersection(t,r)}},UNIVERSAL_Or:{difference:function(e,n){var t=x.difference(e,n.values[0]),r=x.difference(e,n.values[1]);return x.intersection(t,r)}}},K=Object.keys(S);K.forEach(function(e,n){z[e+"_"+e]?x.defineComparison(S[e],S[e],z[e+"_"+e]):console.warn("no "+e+"_"+e),z["UNIVERSAL_"+e]?x.defineComparison(x.UNIVERSAL,S[e],z["UNIVERSAL_"+e]):console.warn("no UNIVERSAL_"+e);for(var t=n+1;t<K.length;t++){var r=K[t];z[e+"_"+r]?x.defineComparison(S[e],S[r],z[e+"_"+r]):console.warn("no "+e+"_"+r),z[r+"_"+e]?x.defineComparison(S[r],S[e],z[r+"_"+e]):console.warn("no "+r+"_"+e)}}),t.exports=S}),define("can-query-logic@1.1.1#src/types/make-real-number-range-inclusive",["require","exports","module","../set","./comparisons"],function(e,n,t){var r=e("../set"),a=e("./comparisons");t.exports=function(e,n){function t(t,r){this.start=arguments.length>0?+t:e,this.end=arguments.length>1?+r:n,this.range=new a.And([new a.GreaterThanEqual(this.start),new a.LessThanEqual(this.end)])}function s(e){return r.isSubset(c.range,e.range)}function i(e){var n={};if(e.values.forEach(function(e){e instanceof a.GreaterThanEqual&&(n.start=e.value),e instanceof a.GreaterThan&&(n.start=e.value+1),e instanceof a.LessThanEqual&&(n.end=e.value),e instanceof a.LessThan&&(n.end=e.value-1)}),"start"in n&&"end"in n)return new t(n.start,n.end)}function o(e){var n;if(e instanceof a.And&&(n=i(e)),e instanceof a.Or){var o=i(e.values[0]),u=i(e.values[1]);if(!o||!u)return r.UNDEFINABLE;var c=o.range.values,l=u.range.values;if(c[1].value+1===l[0].value)n=new t(c[0].value,l[1].value);else{if(l[1].value+1!==c[0].value)return r.UNDEFINABLE;n=new t(l[0].value,c[1].value)}}return n&&s(n)?r.UNIVERSAL:n}function u(e,n){return o(r.difference(e.range,n.range))||r.EMPTY}var c=new t(e,n);return r.defineComparison(t,t,{union:function(e,n){return o(r.union(e.range,n.range))||r.EMPTY},intersection:function(e,n){return o(r.intersection(e.range,n.range))||r.EMPTY},difference:u}),r.defineComparison(r.UNIVERSAL,t,{difference:function(e,n){return s(n)?r.EMPTY:u(c,n)}}),t}}),define("can-query-logic@1.1.1#src/types/types",function(e,n,t){t.exports={}}),define("can-query-logic@1.1.1#src/types/values-or",["require","exports","module","../set","./types"],function(e,n,t){function r(e){this.values=e}var a=e("../set"),s=e("./types");r.prototype.isMember=function(e){return this.values.some(function(n){return n&&n.isMember?n.isMember(e):n===e})},a.defineComparison(a.UNIVERSAL,r,{difference:function(){return a.UNDEFINABLE}}),t.exports=s.ValuesOr=r}),define("can-query-logic@1.1.1#src/types/values-not",["require","exports","module","../set","./types"],function(e,n,t){function r(e){this.value=e}var a=e("../set"),s=e("./types"),i=a.Identity;a.defineComparison(a.UNIVERSAL,i,{difference:function(e,n){return new r(n)}}),a.defineComparison(a.UNIVERSAL,r,{difference:function(e,n){return n.value}}),a.defineComparison(r,r,{}),a.defineComparison(r,i,{union:function(e,n){if(a.isEqual(e.value,n))return a.UNIVERSAL;throw new Error("Not,Identity Union is not filled out")},intersection:function(e,n){return a.isEqual(!e.value,n)?n:a.EMPTY},difference:function(e,n){return a.isEqual(e.value,n)?e:a.UNDEFINABLE}}),a.defineComparison(i,r,{difference:function(e,n){return a.isEqual(e,n.value)?e:a.UNDEFINABLE}}),t.exports=s.Not=r}),define("can-query-logic@1.1.1#src/types/keys-and",["require","exports","module","../set","can-assign","../array-union-intersection-difference","can-reflect","can-key/get/get","can-symbol","can-reflect","./types"],function(e,n,t){function r(e){var n=this.values={};d.eachKey(e,function(e,t){d.isPlainObject(e)&&!c.isSpecial(e)?n[t]=new r(e):n[t]=e})}function a(e){return c.isEqual(e,c.UNIVERSAL)?c.UNIVERSAL:e}function s(e,n,t,r,a){var s,i=l({},t);for(var o in e){if(void 0!==(s=n(o,e[o],o in t?t[o]:m,e,t)))return s;delete i[o]}for(o in i)if(void 0!==(s=r(o,m,t[o],e,t)))return s;return a}function i(e,n){var t=f(Object.keys(e),Object.keys(n));return{aOnlyKeys:t.difference,aAndBKeys:t.intersection,bOnlyKeys:f(Object.keys(n),Object.keys(e)).difference}}function o(e){return e!==c.EMPTY}function u(e,n){var t=e.values,a=n.values,s=i(t,a),u=s.aOnlyKeys,f=s.aAndBKeys,d=s.bOnlyKeys,p={},h={},v={};f.forEach(function(e){var n=c.difference(t[e],a[e]);if(n===c.EMPTY)p[e]=t[e];else{var r=c.intersection(t[e],a[e]);r!==c.EMPTY?h[e]={difference:n,intersection:r}:v[e]=t[e]}});var m,g=Object.keys(h);if(1===g.length&&((m={})[g[0]]=h[g[0]].difference),Object.keys(v).length)return e;if(0===u.length&&0===d.length)return g.length>1?c.UNDEFINABLE:1===g.length?(l(p,m),new r(p)):c.EMPTY;if(u.length>0&&0===d.length)return g.length>1?c.UNDEFINABLE:1===g.length?(l(p,m),u.forEach(function(e){p[e]=t[e]}),new r(p)):c.EMPTY;if(0===u.length&&d.length>0){if(g.length>1)return c.UNDEFINABLE;var b;if(1===g.length){var E=g[0];(b=l({},p))[E]=h[E].difference,p[E]=h[E].intersection}var T=d.map(function(e){var n=l({},p),t=n[e]=c.difference(c.UNIVERSAL,a[e]);return t===c.EMPTY?t:new r(n)}).filter(o);return b&&T.push(new r(b)),T.length>1?new y.ValuesOr(T):1===T.length?T[0]:c.EMPTY}if(u.length>0&&d.length>0){if(g.length)throw new Error("Can't handle any productable keys right now");if(u.forEach(function(e){p[e]=t[e]}),1===d.length){var q=d[0],I=l({},p);return I[q]=c.difference(c.UNIVERSAL,a[q]),new r(I)}return c.UNDEFINABLE}}var c=e("../set"),l=e("can-assign"),f=e("../array-union-intersection-difference"),d=e("can-reflect"),p=e("can-key/get/get"),h=e("can-symbol"),d=e("can-reflect"),y=e("./types"),v=h.for("can.isMember");r.prototype.isMember=function(e,n,t){var r=!0,a=t?t+".":"";return d.eachKey(this.values,function(t,s){var i=t&&(t[v]||t.isMember);i?i.call(t,p(e,s),n||e,a+s)||(r=!1):t!==p(e,s)&&(r=!1)}),r};var m={};c.defineComparison(r,r,{union:function(e,n){var t=i(e.values,n.values),s=[],o={};t.aAndBKeys.forEach(function(t){c.isEqual(e.values[t],n.values[t])?o[t]=e.values[t]:s.push(t)});var u={},l={};if(s.forEach(function(t){u[t]=e.values[t],l[t]=n.values[t]}),!t.aOnlyKeys.length&&!t.bOnlyKeys.length){if(1===s.length){var f=s[0],p=o[f]=c.union(e.values[f],n.values[f]);return 1===d.size(o)&&c.isEqual(p,c.UNIVERSAL)?c.UNIVERSAL:new r(o)}if(0===s.length)return e}if(0===s.length){if(t.aOnlyKeys.length>0&&0===t.bOnlyKeys.length)return a(n);if(0===t.aOnlyKeys.length&&t.bOnlyKeys.length>0)return a(e)}return t.aOnlyKeys.length>0&&0===t.bOnlyKeys.length&&c.isSubset(new r(u),new r(l))?n:t.bOnlyKeys.length>0&&0===t.aOnlyKeys.length&&c.isSubset(new r(l),new r(u))?e:new y.ValuesOr([e,n])},intersection:function(e,n){var t=!1,a={};return s(e.values,function(e,n,r){a[e]=r===m?n:c.intersection(n,r),a[e]===c.EMPTY&&(t=!0)},n.values,function(e,n,r){a[e]=r,a[e]===c.EMPTY&&(t=!0)}),t?c.EMPTY:new r(a)},difference:u}),c.defineComparison(c.UNIVERSAL,r,{difference:function(e,n){return u({values:{}},n)}}),t.exports=y.KeysAnd=r}),define("can-query-logic@1.1.1#src/types/and-or-not",["require","exports","module","./values-or","./values-not","./keys-and"],function(e,n,t){var r=e("./values-or"),a=e("./values-not"),s=e("./keys-and");t.exports={KeysAnd:s,ValuesOr:r,ValuesNot:a}}),define("can-query-logic@1.1.1#src/helpers",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect"),a={$gt:function(e,n){return e>n},$lt:function(e,n){return e<n}},s={uniqueConcat:function(e,n,t){var r=new Set;return e.concat(n).filter(function(e){var n=t(e);return!r.has(n)&&(r.add(n),!0)})},getIndex:function(e,n,t){if(n&&n.length){if(-1===e(t,n[0]))return 0;if(1===e(t,n[n.length-1]))return n.length;for(var r=0,a=n.length;r<a;){var s=r+a>>>1;-1===e(t,n[s])?a=s:r=s+1}return a}},sortData:function(e){return"-"===e[0]?{prop:e.slice(1),desc:!0}:{prop:e,desc:!1}},defaultCompare:a,sorter:function(e,n){var t,i=s.sortData(e);return t=n&&n[i.prop]?n[i.prop]:a,function(e,n){var a,s=r.getKeyValue(e,i.prop),o=r.getKeyValue(n,i.prop);return i.desc&&(a=s,s=o,o=a),t.$lt(s,o)?-1:t.$gt(s,o)?1:0}},valueHydrator:function(e){if(r.isBuiltIn(e))return e;throw new Error("can-query-logic doesn't support comparison operator: "+JSON.stringify(e))}};t.exports=s}),define("can-query-logic@1.1.1#src/types/basic-query",["require","exports","module","../set","./make-real-number-range-inclusive","can-assign","can-reflect","./and-or-not","../helpers","can-define-lazy-value","can-symbol"],function(e,n,t){function r(e,n){function t(e){this.key=e,this.compare=h.sorter(e,r)}var r={};return d.eachKey(e,function(e,t){r[t]={$gt:function(r,a){return n({$gt:a},t,e,h.valueHydrator)[v](r)},$lt:function(r,a){return n({$lt:a},t,e,h.valueHydrator)[v](r)}}}),c.defineComparison(t,t,{intersection:function(e,n){return e.key===n.key?e:c.EMPTY},difference:function(e,n){return e.key===n.key?c.EMPTY:e},union:function(e,n){return e.key===n.key?e:c.UNDEFINABLE}}),t}function a(e){f(this,e),this.filter||(this.filter=c.UNIVERSAL),this.page||(this.page=new E),this.sort||(this.sort="id"),"string"==typeof this.sort&&(this.sort=new T(this.sort))}function s(e,n){var t=[];return q.forEach(function(r){c.isEqual(e[r],n[r])||t.push(r)}),t}function i(e,n,t){return!!t[e+"FilterIsSubset"]&&(!!t[n+"PageIsUniversal"]||t[e+"PageIsSubset"]&&t.sortIsEqual)}function o(e,n){this.queryA=e,this.queryB=n}function u(e,n){return new o(e,n)}var c=e("../set"),l=e("./make-real-number-range-inclusive"),f=e("can-assign"),d=e("can-reflect"),p=e("./and-or-not"),h=e("../helpers"),y=e("can-define-lazy-value"),v=e("can-symbol").for("can.isMember"),m=p.KeysAnd,g=p.ValuesOr,b=p.ValuesNot,E=l(0,1/0),T=r({});a.KeysAnd=m,a.Or=g,a.Not=b,a.RecordRange=E,a.makeSort=r,d.assignMap(a.prototype,{count:function(){return this.page.end-this.page.start+1},sortData:function(e){return e.slice(0).sort(this.sort.compare)},filterMembersAndGetCount:function(e,n){if(n){if(!c.isSubset(this,n))throw new Error("can-query-logic: Unable to get members from a set that is not a superset of the current set.")}else n=new a;var t=e.filter(function(e){return this.filter.isMember(e)},this),r=t.length;r&&this.sort.key!==n.sort.key&&(t=this.sortData(t));var s=c.isEqual(this.page,c.UNIVERSAL);if(c.isEqual(n.page,c.UNIVERSAL))return s?{data:t,count:r}:{data:t.slice(this.page.start,this.page.end+1),count:r};if(this.sort.key===n.sort.key&&c.isEqual(n.filter,this.filter))return{data:t.slice(this.page.start-n.page.start,this.page.end-n.page.start+1),count:r};throw new Error("can-query-logic: Unable to get members from the parent set for this subset.")},filterFrom:function(e,n){return this.filterMembersAndGetCount(e,n).data},merge:function(e,n,t,r){var a=c.union(this,e);if(a!==c.UNDEFINABLE){var s=h.uniqueConcat(n,t,r);return a.sortData(s)}},index:function(e,n){var t=h.sortData(this.sort.key);if(d.hasOwnKey(e,t.prop))return h.getIndex(this.sort.compare,n,e)},isMember:function(e){return this.filter.isMember(e)},removePagination:function(){this.page=new E}});var q=["filter","page","sort"];d.eachKey({pageIsEqual:function(){return c.isEqual(this.queryA.page,this.queryB.page)},aPageIsUniversal:function(){return c.isEqual(this.queryA.page,c.UNIVERSAL)},bPageIsUniversal:function(){return c.isEqual(this.queryB.page,c.UNIVERSAL)},pagesAreUniversal:function(){return this.pageIsEqual&&this.aPageIsUniversal},sortIsEqual:function(){return this.queryA.sort.key===this.queryB.sort.key},aFilterIsSubset:function(){return c.isSubset(this.queryA.filter,this.queryB.filter)},bFilterIsSubset:function(){return c.isSubset(this.queryB.filter,this.queryA.filter)},aPageIsSubset:function(){return c.isSubset(this.queryA.page,this.queryB.page)},bPageIsSubset:function(){return c.isSubset(this.queryB.page,this.queryA.page)},filterIsEqual:function(){return c.isEqual(this.queryA.filter,this.queryB.filter)},aIsSubset:function(){return i("a","b",this)},bIsSubset:function(){return i("b","a",this)}},function(e,n){y(o.prototype,n,e)}),c.defineComparison(a,a,{union:function(e,n){var t=u(e,n),r=c.union(e.filter,n.filter);if(t.pagesAreUniversal)return new a({filter:r,sort:t.sortIsEqual?e.sort.key:void 0});if(t.filterIsEqual)return t.sortIsEqual?new a({filter:e.filter,sort:e.sort.key,page:c.union(e.page,n.page)}):t.aIsSubset?n:t.bIsSubset?e:c.UNDEFINABLE;throw new Error("different filters, non-universal pages")},intersection:function(e,n){var t=u(e,n);if(t.pagesAreUniversal){var r=c.intersection(e.filter,n.filter);return c.isDefinedAndHasMembers(r)?new a({filter:r,sort:t.sortIsEqual?e.sort.key:void 0}):r}return c.intersection(e.filter,n.filter)===c.EMPTY?c.EMPTY:t.filterIsEqual?t.sortIsEqual?new a({filter:e.filter,sort:e.sort.key,page:c.intersection(e.page,n.page)}):t.aIsSubset?e:t.bIsSubset?n:c.UNKNOWABLE:t.aIsSubset?e:t.bIsSubset?n:c.UNDEFINABLE},difference:function(e,n){var t,r=s(e,n),i=u(e,n);if(r.length>1)return i.aIsSubset?c.EMPTY:i.pagesAreUniversal?new a({filter:c.difference(e.filter,n.filter),sort:e.sort.key}):c.UNDEFINABLE;switch(t=r[0]){case void 0:return c.EMPTY;case"sort":return i.pagesAreUniversal?c.EMPTY:c.UNKNOWABLE;case"page":case"filter":var o=c.difference(e[t],n[t]);if(c.isSpecial(o))return o;var l={filter:e.filter,page:e.page,sort:e.sort.key};return l[t]=o,new a(l)}}}),t.exports=a}),define("can-query-logic@1.1.1#src/serializer",["require","exports","module","can-reflect"],function(e,n,t){var r=e("can-reflect"),a=function(e){this.serializers=new Map(e||[]),this.serialize=this.serialize.bind(this)};a.prototype.add=function(e){r.assign(this.serializers,e instanceof a?e.serializers:e)},a.prototype.serialize=function(e){if(!e)return e;var n=e.constructor,t=this.serializers.get(n);return t?t(e,this.serialize):r.serialize(e)},t.exports=a}),define("can-query-logic@1.1.1#src/serializers/comparisons",["require","exports","module","../types/comparisons","../serializer","can-reflect"],function(e,n,t){function r(e){return function(n){return new e(n)}}function a(e,n){c[e]=function(t,r){return n(r?r(t[e]):t[e])},Object.defineProperty(c[e],"name",{value:"hydrate "+e,writable:!0})}function s(e,n){c[e]=function(t,r){var a=t[e];return r&&(a=a.map(function(e){return r(e)})),n(a)},Object.defineProperty(c[e],"name",{value:"hydrate "+e,writable:!0})}var i=e("../types/comparisons"),o=e("../serializer"),u=e("can-reflect"),c={};a("$eq",function(e){return new i.In([e])}),a("$ne",function(e){return new i.NotIn([e])}),a("$gt",r(i.GreaterThan)),a("$gte",r(i.GreaterThanEqual)),s("$in",r(i.In)),a("$lt",r(i.LessThan)),a("$lte",r(i.LessThanEqual)),s("$nin",r(i.GreaterThan));var l=new o([[i.In,function(e,n){return 1===e.values.length?n(e.values[0]):{$in:e.values.map(n)}}],[i.NotIn,function(e,n){return 1===e.values.length?{$ne:n(e.values[0])}:{$nin:e.values.map(n)}}],[i.GreaterThan,function(e,n){return{$gt:n(e.value)}}],[i.GreaterThanEqual,function(e,n){return{$gte:n(e.value)}}],[i.LessThan,function(e,n){return{$lt:n(e.value)}}],[i.LessThanEqual,function(e,n){return{$lte:n(e.value)}}],[i.And,function(e,n){var t={};return e.values.forEach(function(e){u.assignMap(t,n(e))}),t}]]);t.exports={hydrate:function(e,n){if(n||(n=function(){throw new Error("can-query-logic doesn't recognize operator: "+JSON.stringify(e))}),Array.isArray(e))return new i.In(e.map(function(e){return n(e)}));if(e&&"object"==typeof e){var t=Object.keys(e);if(t.every(function(e){return c[e]})){var r=t.map(function(t){var r={};return r[t]=e[t],(0,c[t])(r,n)});return r.length>1?new i.And(r):r[0]}return n(e)}return new i.In([n(e)])},serializer:l}}),define("can-query-logic@1.1.1#src/schema-helpers",["require","exports","module","can-reflect","./set","can-symbol"],function(e,n,t){var r,a=e("can-reflect"),s=e("./set"),i=e("can-symbol");t.exports=r={isRangedType:function(e){return e&&a.isConstructorLike(e)&&!s.hasComparisons(e)&&!e[i.for("can.SetType")]&&e.prototype.valueOf&&e.prototype.valueOf!==Object.prototype.valueOf},categorizeOrValues:function(e){var n={primitives:[],valueOfTypes:[],others:[]};return e.forEach(function(e){a.isPrimitive(e)?n.primitives.push(e):r.isRangedType(e)?n.valueOfTypes.push(e):n.others.push(e)}),n}}}),define("can-query-logic@1.1.1#src/types/make-maybe",["require","exports","module","../set","./comparisons","can-reflect","../schema-helpers","can-symbol"],function(e,n,t){function r(e,n){var t;if(n instanceof i.And)return n.values.map(function(n){return r(e,n)}).reduce(function(e,n){return{range:s.intersection(e.range,n.range),enum:s.intersection(e.enum,n.enum)}},{range:s.UNIVERSAL,enum:e});if(n instanceof i.In){var a=n.values.filter(function(n){return e.isMember(n)});if(a.length){var u=n.values.slice(0);return o.removeValues(u,a),{enum:new i.In(a),range:u.length?new i.In(u):s.EMPTY}}return{enum:s.EMPTY,range:n}}if(n instanceof i.NotIn){t=s.intersection(e,n);var c=n.values.filter(function(n){return!e.isMember(n)});return{range:c.length?new i.NotIn(c):s.UNIVERSAL,enum:t}}return{enum:s.EMPTY,range:n}}function a(e,n){function t(e){var n=r(a,e.range);if(this.range=n.range||s.EMPTY,e.enum?n.enum!==s.EMPTY?this.enum=s.union(n.enum,e.enum):this.enum=e.enum:this.enum=n.enum,this.enum===s.EMPTY&&this.range===s.EMPTY)return s.EMPTY}var a=new i.In(e);return t.prototype.orValues=function(){var e=[];return this.range!==s.EMPTY&&e.push(this.range),this.enum!==s.EMPTY&&e.push(this.enum),e},t.prototype[f]=function(){var e=this.range[f]||this.range.isMember,n=this.enum[f]||this.enum.isMember;return e.apply(this.range,arguments)||n.apply(this.enum,arguments)},s.defineComparison(t,t,{union:function(e,n){return new t({enum:s.union(e.enum,n.enum),range:s.union(e.range,n.range)})},difference:function(e,n){return new t({enum:s.difference(e.enum,n.enum),range:s.difference(e.range,n.range)})},intersection:function(e,n){return new t({enum:s.intersection(e.enum,n.enum),range:s.intersection(e.range,n.range)})}}),t.inValues=e,s.defineComparison(s.UNIVERSAL,t,{difference:function(e,n){var r,i;if(n.range===s.UNIVERSAL)return new t({range:n.range,enum:s.difference(a,n.enum)});if(n.enum===s.EMPTY){var o=s.difference(s.UNIVERSAL,n.range),u=s.difference(a,n.range);return new t({range:o,enum:s.difference(u,o)})}return r=s.difference(e,n.range),i=s.difference(a,n.enum),new t({enum:i,range:r})}}),n=n||function(e){return e},t.hydrate=function(e,r){return new t({range:r(e,n)})},t}var s=e("../set"),i=e("./comparisons"),o=e("can-reflect"),u=e("../schema-helpers"),c=e("can-symbol"),l=c.for("can.ComparisonSetType"),f=c.for("can.isMember");a.canMakeMaybeSetType=function(e){var n=o.getSchema(e);if(n&&"Or"===n.type){var t=u.categorizeOrValues(n.values);return 1===t.valueOfTypes.length&&t.valueOfTypes.length+t.primitives.length===n.values.length}return!1},a.makeMaybeSetTypes=function(e){var n,t=o.getSchema(e),r=u.categorizeOrValues(t.values);return e[l]?n=e[l]:((n=function(n){this.value=o.new(e,n)}).prototype.valueOf=function(){return this.value},o.assignSymbols(n.prototype,{"can.serialize":function(){return this.value}})),{Maybe:a(r.primitives,function(e){return new n(e)}),ComparisonSetType:n}},t.exports=a}),define("can-query-logic@1.1.1#src/types/make-enum",["require","exports","module","../set","../array-union-intersection-difference","../schema-helpers","can-reflect","can-symbol"],function(e,n,t){function r(e,n){function t(e){var t=Array.isArray(e)?e:[e];this.values=n?t.map(n):t}u.assignSymbols(t.prototype,{"can.serialize":function(){return 1===this.values.length?this.values[0]:this.values}}),t.prototype[f]=function(e){return this.values.some(function(n){return s.isEqual(n,e)})},t.UNIVERSAL=new t(e);var r=function(e,n){var r=i(e.values,n.values);return r.difference.length?new t(r.difference):s.EMPTY};return s.defineComparison(t,t,{union:function(e,n){var r=i(e.values,n.values);return r.union.length?new t(r.union):s.EMPTY},intersection:function(e,n){var r=i(e.values,n.values);return r.intersection.length?new t(r.intersection):s.EMPTY},difference:r}),s.defineComparison(t,s.UNIVERSAL,{difference:function(n){return r(n,{values:e.slice(0)})}}),s.defineComparison(s.UNIVERSAL,t,{difference:function(n,t){return r({values:e.slice(0)},t)}}),t}function a(e,n,t){var a=r(n,t);return e[l]=a,e[f]=function(e){return n.some(function(n){return s.isEqual(n,e)})},a}var s=e("../set"),i=e("../array-union-intersection-difference"),o=e("../schema-helpers"),u=e("can-reflect"),c=e("can-symbol"),l=c.for("can.SetType"),f=c.for("can.isMember"),d=c.for("can.new");a.canMakeEnumSetType=function(e){var n=u.getSchema(e);return!(!n||"Or"!==n.type)&&o.categorizeOrValues(n.values).primitives.length===n.values.length},a.makeEnumSetType=function(e){var n=u.getSchema(e),t=o.categorizeOrValues(n.values),a=e[d]?e[d].bind(e):void 0;return r(t.primitives,a)},t.exports=a}),define("can-query-logic@1.1.1#src/serializers/basic-query",["require","exports","module","can-symbol","can-reflect","../types/basic-query","../set","../serializers/comparisons","../serializer","../types/comparisons","../types/make-maybe","../types/make-enum","can-log/dev/dev","../helpers"],function(e,n,t){function r(e){var n=e.constructor;return n&&n[T]?n[T]().keys||{}:{}}function a(e,n,t){return e&&"object"==typeof e&&"$or"in e?u(e.$or,n,t):i(e,n,t)}function s(e,n,t,r){if(t){var a=t[E];return a?a.hydrate?a.hydrate(e,h.hydrate):p.hasComparisons(a)?new a(e):h.hydrate(e,function(e){return new a(e)}):g.canMakeEnumSetType(t)?(I.has(t)||I.set(t,g.makeEnumSetType(t)),new(a=I.get(t))(e)):m.canMakeMaybeSetType(t)?(I.has(t)||I.set(t,m.makeMaybeSetTypes(t)),(a=I.get(t).Maybe).hydrate(e,h.hydrate)):h.hydrate(e,r)}return h.hydrate(e,r)}function i(e,n,t){function a(e){if(e){if(Array.isArray(e))return e.map(t);if(f.isPlainObject(e))return i(e,r(e))}return t?t(e):e}n=n||{};var o={};return f.eachKey(e,function(e,t){o[t]=s(e,t,n[t],a)}),new d.KeysAnd(o)}function o(e){var n=Object.keys(e[0].values),t={},r=new v.In(n);if(n.map(function(e){t[e]=[]}),e.every(function(e){return!!p.isEqual(r,new v.In(Object.keys(e.values)))&&(f.eachKey(e.values,function(e,n){t[n].push(e)}),!0)})){var a=[];if(n.forEach(function(e){t[e].reduce(function(e,n){return!1!==n&&(void 0===n?e:!!p.isEqual(e,n)&&e)})||a.push(e)}),1===a.length){var s=a[0],i=t[s].reduce(function(e,n){return p.union(e,n)},p.EMPTY),o={};return n.map(function(e){o[e]=t[e][0]}),o[s]=i,new d.KeysAnd(o)}}}function u(e,n,t){var r=e.map(function(e){return i(e,n,t)});return o(r)||new d.Or(r)}function c(e,n,t,r){n.orValues().forEach(function(n){if("function"==typeof n.orValues)c(e,n,t,r);else{var a={};a[r]=t(n),e.push(a)}})}var l=e("can-symbol"),f=e("can-reflect"),d=e("../types/basic-query"),p=e("../set"),h=e("../serializers/comparisons"),y=e("../serializer"),v=e("../types/comparisons"),m=e("../types/make-maybe"),g=e("../types/make-enum"),b=(e("can-log/dev/dev"),e("../helpers")),E=l.for("can.SetType"),T=l.for("can.getSchema"),q=new d({}),I=new WeakMap;t.exports=function(e){var n=e.identity&&e.identity[0],t=e.keys,r=[[d.Or,function(e,n){return e.values.map(function(e){return n(e)})}],[d.KeysAnd,function(e,n){var t=[],r={};return f.eachKey(e.values,function(e,a){"function"==typeof e.orValues?c(t,e,n,a):r[a]=n(e)}),t.length?1===t.length?t[0]:{$or:t.map(function(e){return f.assign(f.serialize(r),e)})}:r}],[d.RecordRange,function(e){return{start:e.start,end:e.end}}],[d,function(e,t){var r=p.isEqual(e.filter,p.UNIVERSAL)?{}:t(e.filter),a={};return 0!==f.size(r)&&(a.filter=r),p.isEqual(e.page,q.page)||(a.page={start:e.page.start},e.page.end!==q.page.end&&(a.page.end=e.page.end)),e.sort.key!==n&&(a.sort=e.sort.key),a}]],i=d.makeSort(t,s),o=new y(r);return o.add(h.serializer),{hydrate:function(e){var r={filter:a(f.serialize(e.filter),t,b.valueHydrator)};return e.page&&(r.page=new d.RecordRange(e.page.start,e.page.end)),e.sort?r.sort=new i(e.sort):r.sort=new i(n),new d(r)},serializer:o}}}),define("can-query-logic@1.1.1#can-query-logic",["require","exports","module","./src/set","can-symbol","can-reflect","./src/serializers/basic-query","./src/types/basic-query","./src/types/comparisons","./src/types/make-enum"],function(e,n,t){function r(e,n){e=e||{};var t,r=n&&n.toQuery,a=n&&n.toParams;(t=e[d]?e[d]():e).identity&&t.identity[0]||(t.identity=["id"]);var s,i,o=c(t);s=r?function(e){return o.hydrate(r(e))}:o.hydrate,i=a?function(e){return a(o.serializer.serialize(e))}:o.serializer.serialize,this.hydrate=s,this.serialize=i,this.schema=t}function a(e){return function(n,t){var r=this.hydrate(n),a=this.hydrate(t),s=i[e](r,a);return this.serialize(s)}}function s(e){return function(n,t){var r=this.hydrate(n),a=this.hydrate(t);return i[e](r,a)}}var i=e("./src/set"),o=e("can-symbol"),u=e("can-reflect"),c=e("./src/serializers/basic-query"),l=e("./src/types/basic-query"),f=e("./src/types/comparisons"),d=o.for("can.getSchema"),p=o.for("can.new"),h=e("./src/types/make-enum");u.assignSymbols(r.prototype,{"can.getSchema":function(){return this.schema}}),u.assign(r.prototype,{union:a("union"),difference:a("difference"),intersection:a("intersection"),isEqual:s("isEqual"),isProperSubset:s("isProperSubset"),isSubset:s("isSubset"),isSpecial:i.isSpecial,isDefinedAndHasMembers:i.isDefinedAndHasMembers,count:function(e){var n=this.hydrate(e);return n.page.end-n.page.start+1},identityKeys:function(){return this.schema.identity},filterMembers:function(e,n,t){var r=this.hydrate(e);if(arguments.length>=3){var a=this.hydrate(n);return r.filterFrom(t,a)}return r.filterFrom(n)},filterMembersAndGetCount:function(e,n,t){var r=this.hydrate(e),a=this.hydrate(n);return r.filterMembersAndGetCount(t,a)},unionMembers:function(e,n,t,r){var a=this.hydrate(e),s=this.hydrate(n),i=this.schema;return a.merge(s,t,r,function(e){return u.getIdentity(e,i)})},isMember:function(e,n){return this.hydrate(e).isMember(n)},memberIdentity:function(e){return u.getIdentity(e,this.schema)},index:function(e,n,t){return this.hydrate(e).index(t,n)},insert:function(e,n,t){var r=this.index(e,n,t);void 0===r&&(r=n.length);var a=n.slice(0);return a.splice(r,0,t),a},isPaginated:function(e){var n=this.hydrate(e);return!i.isEqual(n.page,i.UNIVERSAL)},removePagination:function(e){var n=this.hydrate(e);return n.removePagination(),this.serialize(n)}});for(var y in i)void 0===r[y]&&(r[y]=i[y]);r.makeEnum=function(e){var n=function(){};return n[p]=function(e){return e},h(n,e),n},r.KeysAnd=l.KeysAnd,r.ValuesOr=l.Or,r.In=f.In,r.NotIn=f.NotIn,r.GreaterThan=f.GreaterThan,r.GreaterThanEqual=f.GreaterThanEqual,r.LessThan=f.LessThan,r.LessThanEqual=f.LessThanEqual,r.ValueAnd=f.And,r.ValueOr=f.Or,t.exports=r}),define("can-fixture@3.0.0#matches",["require","exports","module","can-query-logic/src/set","can-reflect","./data-from-url","can-query-logic"],function(e,n,t){function r(e,n){if(e===n)return!0;if(Array.isArray(e)&&Array.isArray(n))return e.every(function(e,t){return r(e,n[t])});if(e&&n&&c.isPlainObject(e)&&c.isPlainObject(n)){for(var t in e){if(!n.hasOwnProperty(t))return!1;if(!r(e[t],n[t]))return!1}return!0}return!1}function a(e){if(e.fixture||e.xhr||e.data){var n=c.serialize(e);return delete n.fixture,delete n.xhr,delete n.data,n}return e}function s(e){var n=function(){},t=function(e){this.value=e};return t.prototype.isMember=function(n,t,r){return e(this.value,n,t,r)},c.assignSymbols(n,{"can.SetType":t}),u.defineComparison(t,t,d),u.defineComparison(u.UNIVERSAL,t,{difference:function(){return u.UNDEFINABLE}}),n}function i(e,n){var t=e.data,s=n.data;if(t&&s&&!r(t,s))return!1;var i=new f.KeysAnd(a(e)),o=new f.KeysAnd(a(n));return u.isEqual(i,o)}function o(e,n){return u.isSubset(new f.KeysAnd(e),new f.KeysAnd(n))}var u=e("can-query-logic/src/set"),c=e("can-reflect"),l=e("./data-from-url"),f=e("can-query-logic"),d={intersection:function(e,n){return e.value===n.value?e:u.EMPTY},difference:function(e,n){return e.value===n.value?u.EMPTY:e},union:function(e,n){return e.value===n.value?e:u.UNDEFINABLE}},p={};c.eachKey({IsEmptyOrNull:function(e,n){return null==e&&0===c.size(n)||null==n&&0===c.size(e)||i(e,n)},isEmptyOrSubset:function(e,n){return null==e&&0===c.size(n)||null==n&&0===c.size(e)||o(e,n)},TemplateUrl:function(e,n){return!!l(e,n)},StringIgnoreCase:function(e,n){return n&&e?e.toLowerCase()===n.toLowerCase():n===e},Ignore:function(){return!0}},function(e,n){p[n]=s(e)});var h={identity:["id"],keys:{url:p.TemplateUrl,fixture:p.Ignore,xhr:p.Ignore,type:p.StringIgnoreCase,method:p.StringIgnoreCase,helpers:p.Ignore,headers:p.IsEmptyOrNull,data:p.IsEmptyOrSubset}},y=new f(h);t.exports={fixture:i,request:function(e,n){return y.isMember({filter:n},e)},matches:function(e,n,t){return t?this.fixture(e,n):this.request(e,n)},makeComparatorType:s}}),define("can-memory-store@1.0.0#make-simple-store",["require","exports","module","can-reflect"],function(e,n,t){function r(e){return Array.isArray(e)?e:e.data}function a(e,n,t){for(var r=i.getSchema(t),a=0;a<e.length;a++)if(n===i.getIdentity(e[a],r))return a;return-1}function s(e){e.constructor=s;var n=Object.create(e);return i.assignMap(n,{getRecordFromParams:function(e){var n=i.getIdentity(e,this.queryLogic.schema);return this.getRecord(n)},log:function(){this._log=!0},getSets:function(){return this.getQueries()},getQueries:function(){return Promise.resolve(this.getQueriesSync())},getQueriesSync:function(){return this.getQueryDataSync().map(function(e){return e.query})},getListData:function(e){e=e||{};var n=this.getListDataSync(e);return n?Promise.resolve(n):Promise.reject({title:"no data",status:"404",detail:"No data available for this query.\nAvailable queries: "+JSON.stringify(this.getQueriesSync())})},getPaginatedListDataSync:function(e){var n=this.getAllRecords(),t=this.queryLogic.removePagination(e.query),r=this.queryLogic.filterMembersAndGetCount(t,{},n),s=a(r.data,e.startIdentity,this.queryLogic),i=r.data.slice(s,s+this.queryLogic.count(e.query));return{count:r.data.length,data:i}},getListDataSync:function(e){for(var n,t=this.getQueryDataSync(),r=this.queryLogic.isPaginated(e),a=0;a<t.length;a++){var s=t[a].query;this.queryLogic.isSubset(e,s)&&(n=t[a])}var i=this.getAllRecords();if(r&&this.queryLogic.isPaginated(n.query)){var o=this.getPaginatedListDataSync(n);return this.queryLogic.filterMembersAndGetCount(e,n.query,o.data)}var u=this.queryLogic.filterMembersAndGetCount(e,{},i);return u&&u.count?u:n?{count:0,data:[]}:void 0},updateListData:function(e,n){var t=this.getQueryDataSync();n=n||{};var a=r(i.serialize(e));this.updateRecordsSync(a);var s=this.queryLogic.isPaginated(n),o=a.length?i.getIdentity(a[0],this.queryLogic.schema):void 0;if(s){for(var u=0;u<t.length;u++){var c=t[u].query,l=this.queryLogic.union(c,n);if(this.queryLogic.isDefinedAndHasMembers(l)){var f=this.getPaginatedListDataSync(t[u]),d=this.queryLogic.unionMembers(c,n,f.data,a);return o=i.getIdentity(d[0],this.queryLogic.schema),t[u]={query:l,startIdentity:o},this.updateQueryDataSync(t),Promise.resolve()}}return t.push({query:n,startIdentity:o}),this.updateQueryDataSync(t),Promise.resolve()}var p=this.getAllRecords(),h=this.queryLogic.filterMembers(n,p);if(h.length){var y=new Map;h.forEach(function(e){y.set(i.getIdentity(e,this.queryLogic.schema),e)},this),a.forEach(function(e){y.delete(i.getIdentity(e,this.queryLogic.schema))},this),this.destroyRecords(i.toArray(y.values()))}var v=this.getQueryDataSync().filter(function(e){return!this.queryLogic.isSubset(e.query,n)},this);return v.filter(function(e){return this.queryLogic.isSubset(n,e.query)},this).length?this.updateQueryDataSync(v):this.updateQueryDataSync(v.concat([{query:n,startIdentity:o}])),Promise.resolve()},getData:function(e){var n=i.getIdentity(e,i.getSchema(this.queryLogic)),t=this.getRecord(n);return t?Promise.resolve(t):Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."})},createData:function(e){return this.updateRecordsSync([e]),Promise.resolve(i.assignMap({},this.getRecordFromParams(e)))},updateData:function(e){if(this.errorOnMissingRecord&&!this.getRecordFromParams(e)){var n=i.getIdentity(e,this.queryLogic.schema);return Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."})}return this.updateRecordsSync([e]),Promise.resolve(i.assignMap({},this.getRecordFromParams(e)))},destroyData:function(e){var n=i.getIdentity(e,this.queryLogic.schema),t=this.getRecordFromParams(e);return this.errorOnMissingRecord&&!t?Promise.reject({title:"no data",status:"404",detail:"No record with matching identity ("+n+")."}):(this.destroyRecords([e]),Promise.resolve(i.assignMap({},t||e)))}})}var i=e("can-reflect");t.exports=s}),define("can-memory-store@1.0.0#can-memory-store",["require","exports","module","can-reflect","can-namespace","./make-simple-store"],function(e,n,t){var r=e("can-reflect"),a=e("can-namespace"),s=e("./make-simple-store");t.exports=a.memoryStore=function e(n){n.constructor=e;var t=Object.create(s(n));return r.assignMap(t,{clear:function(){this._instances={},this._queries=[]},_queryData:[],updateQueryDataSync:function(e){this._queryData=e},getQueryDataSync:function(){return this._queryData},_instances:{},getRecord:function(e){return this._instances[e]},getAllRecords:function(){var e=[];for(var n in this._instances)e.push(this._instances[n]);return e},destroyRecords:function(e){r.eachIndex(e,function(e){var n=r.getIdentity(e,this.queryLogic.schema);delete this._instances[n]},this)},updateRecordsSync:function(e){e.forEach(function(e){var n=r.getIdentity(e,this.queryLogic.schema);this._instances[n]=e},this)}}),t}}),define("can-fixture@3.0.0#store",["require","exports","module","can-query-logic","can-reflect","can-memory-store"],function(e,n,t){function r(e){var n=this.connection.queryLogic.schema,t=n.identity[0],r=n.keys;r&&r[t]||((r={})[t]=function(e){return"string"==typeof e?l(e):e});var a={};return i.eachKey(e,function(e,n){r[n]?a[n]=i.convert(e,r[n]):a[n]=e}),a}function a(e){return e&&"identityKeys"in e}var s=e("can-query-logic"),i=e("can-reflect"),o=e("can-memory-store"),u=function(e,n){return function(t,r){this.connection[e](n.call(this,t.data)).then(function(e){r(e)},function(e){r(parseInt(e.status,10),e)})}},c=function(e,n){return function(){var t=[],r=0;return e.forEach(function(e){t.push(i.serialize(e)),r=Math.max(e[n],r)}),{maxId:r,items:t}}},l=function(e){switch(e){case"NaN":case"Infinity":return+e;case"null":return null;case"undefined":return;case"true":case"false":return"true"===e;default:var n=+e;return isNaN(n)?e:n}},f=function(e,n,t){var r=e.queryLogic.schema,a=r.identity[0],s=r.keys;s&&s[a]||console.warn("No type specified for identity key. Going to convert strings to reasonable type."),this.connection=e,this.makeItems=n,this.idProp=t,this.reset();for(var i in f.prototype)this[i]=this[i].bind(this)};i.assignMap(f.prototype,{getListData:u("getListData",function(e){return e}),getData:u("getData",r),createData:function(e,n){var t=this.idProp;e.data[t]=++this.maxId,this.connection.createData(r.call(this,e.data)).then(function(e){n(e)},function(e){n(403,e)})},createInstance:function(e){var n=this.idProp;return n in e||(e[n]=++this.maxId),this.connection.createData(e)},updateData:u("updateData",r),updateInstance:function(e){return this.connection.updateData(e)},destroyInstance:function(e){return this.connection.destroyData(e)},destroyData:u("destroyData",r),reset:function(e){e&&(this.makeItems=c(e,this.idProp));var n=this.makeItems();this.maxId=n.maxId,this.connection.updateListData(n.items,{})},get:function(e){var n=this.connection.queryLogic.memberIdentity(e);return this.connection.getRecord(n)},getList:function(e){return this.connection.getListDataSync(e)}}),f.make=function(e,n,t){var r,i;"number"==typeof e?(t?a(t)||(t=new s(t)):t=new s({}),i=t.identityKeys()[0]||"id",r=function(){for(var t=[],r=0,a=0;a<e;a++){var s=n(a,t);s[i]||(s[i]=a),r=Math.max(s[i],r),t.push(s)}return{maxId:r,items:t}}):Array.isArray(e)&&((t=n)?a(t)||(t=new s(t)):t=new s({}),i=t.identityKeys()[0]||"id",r=c(e,i));var u=o({queryLogic:t,errorOnMissingRecord:!0});return new f(u,r,i)},t.exports=f}),define("can-fixture@3.0.0#core",["require","exports","module","can-key/sub/sub","can-reflect","./matches","can-log","can-log/dev/dev","./data-from-url","./store"],function(e,n,t){"use strict";function r(e){return e&&(e.getData||e.getListData)}function a(e){var n=e.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);return n?[n[1],n[2]]:[void 0,e]}function s(e){var n=/\{(.*)\}/,t=e.match(n);if(t&&2===t.length)return t[1]}function i(e,n){if(!(n=n||s(e)))return[void 0,e];var t=new RegExp("\\/\\{"+n+"\\}.*"),r=t.test(e),a=r?e.replace(t,""):e;return[r?e:e.trim()+"/{"+n+"}",a]}function o(e,n){var t={},r=a(e),s=r[0],o=i(r[1],n.idProp),u=o[0],c=o[1];if(s){var l=['fixture("'+e+'", fixture) must use a store method, not a store directly.'];if(u){var f=g.item[s];if(f){t[s+" "+u]=n[f];var d='Replace with fixture("'+s+" "+u+'", fixture.'+f+") for items.";l.push(d)}}var p=g.list[s];if(p){t[s+" "+c]=n[p];var h='Replace with fixture("'+s+" "+c+'", fixture.'+p+") for lists.";l.push(h)}var v=l.join(" ");y.warn(v)}else{var m=g.item;for(var b in m){var E=m[b];t[b+" "+u]=n[E]}var T=g.list;for(var q in T){var I=T[q];t[q+" "+c]=n[I]}}return t}function u(e){var n=a(e),t=n[0],r=n[1];return t?{type:t,url:r}:{url:r}}function c(e,t,r){var a=n.index(t,!0);if(a>-1&&m.splice(a,1),null!=r){if("object"==typeof r){var s=r;r=function(){return s}}t.fixture=r,m.unshift(t)}}function l(e,n){this.statusCode=n[0],this.responseBody=n[1],this.headers=n[2],this.statusText=n[3],this.fixture=e}var f=e("can-key/sub/sub"),d=e("can-reflect"),p=e("./matches"),h=e("can-log"),y=e("can-log/dev/dev"),v=e("./data-from-url");e("./store");var m=[];n.fixtures=m;var g={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};n.add=function(e,t){if(void 0!==t){if(r(t))return e=o(e,t),void n.add(e);"string"==typeof e&&(e=u(e)),c(0,e,t)}else d.eachKey(e,function(e,t){n.add(t,e)})};var b=n.add;b.on=!0,b.delay=10,n.callDynamicFixture=function(e,t,r){e.data=t.data;var a=function(){var a=n.extractResponse.apply(e,arguments);return h.log("can-fixture: "+e.type.toUpperCase()+" "+e.url+" ",e.data," => ",new l(t.fixture,a)),r.apply(this,a)},s=function(){var n=t.fixture(e,a,e.headers,t);void 0!==n&&a(200,n)};return e.async?setTimeout(s,b.delay):(s(),null)},n.index=function(e,n){for(var t=0;t<m.length;t++)if(p.matches(e,m[t],n))return t;return-1},n.get=function(e){if(b.on){var t=n.index(e,!0);-1===t&&(t=n.index(e,!1));var r=t>=0?d.assignMap({},m[t]):void 0;if(r){var a=r.fixture,s=v(r.url,e.url);if("string"==typeof r.fixture)s&&(a=f(a,s)),r.url=a,r.data=null,r.type="GET",r.error||(r.error=function(e,n,t){throw"fixtures.js Error "+n+" "+t});else if(d.isPlainObject(e.data)||null==e.data){var i=d.assignMap({},e.data||{});r.data=d.assignMap(i,s)}else r.data=e.data}return r}},n.matches=p,n.extractResponse=function(e,n,t,r){return"number"!=typeof e&&(t=n,n=e,e=200),"string"==typeof t&&(r=t,t={}),[e,n,t,r]}}),define("can-deparam@1.2.0#can-deparam",["require","exports","module","can-namespace"],function(e,n,t){"use strict";function r(e){return i.test(e)||"[]"===e}function a(e){return e}var s=e("can-namespace"),i=/^\d+$/,o=/([^\[\]]+)|(\[\])/g,u=/([^?#]*)(#.*)?$/,c=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,l=function(e){e=e.replace(/\+/g," ");try{return decodeURIComponent(e)}catch(n){return decodeURIComponent(e.replace(c,function(e,n){return"%25"+n}))}};t.exports=s.deparam=function(e,n){n=n||a;var t,s={};return e&&u.test(e)&&e.split("&").forEach(function(e){var a=e.split("="),i=l(a.shift()),u=l(a.join("=")),c=s;if(i){for(var f=0,d=(a=i.match(o)).length-1;f<d;f++){var p=a[f],h=a[f+1],y=r(p)&&c instanceof Array;c[p]||(y?c.push(r(h)?[]:{}):c[p]=r(h)?[]:{}),c=y?c[c.length-1]:c[p]}r(t=a.pop())?c.push(n(u)):c[t]=n(u)}}),s}}),define("can-fixture@3.0.0#xhr",["require","exports","module","./core","can-deparam","can-reflect","can-log"],function(e,n,t){!function(e,n,t,r){"use strict";function a(e,n){for(var t=e.__events[n]||[],r=0,a=t.length;r<a;r++)t[r].call(e)}var s=n("./core"),i=n("can-deparam"),o=n("can-reflect"),u=n("can-log"),c=XMLHttpRequest,l=void 0!==e?e:window,f=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],d=["abort","error","load","loadend","loadstart","progress","readystatechange"];!function(){var e=new c;for(var n in e)0===n.indexOf("on")?-1===d.indexOf(n.substr(2))&&d.push(n.substr(2)):-1===f.indexOf(n)&&"function"!=typeof e[n]&&f.push(n)}(),l.XMLHttpRequest=function(){var e=this,n=new c;this._xhr=n,this._requestHeaders={},this.__events={},d.forEach(function(t){n["on"+t]=function(){if(a(e,t),e["on"+t])return e["on"+t].apply(e,arguments)}}),this.onload=null},l.XMLHttpRequest._XHR=c,o.assignMap(XMLHttpRequest.prototype,{setRequestHeader:function(e,n){this._requestHeaders[e]=n},open:function(e,n,t){this.type=e,this.url=n,this.async=!1!==t},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,n){(this.__events[e]=this.__events[e]||[]).push(n)},removeEventListener:function(e,n){var t=this.__events[e]=this.__events[e]||[],r=t.indexOf(n);r>=0&&t.splice(r,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var n=this.type.toLowerCase()||"get",t={url:this.url,data:e,headers:this._requestHeaders,type:n,method:n,async:this.async,xhr:this};if((!t.data&&"get"===t.type||"delete"===t.type)&&(t.data=i(t.url.split("?")[1]),t.url=t.url.split("?")[0]),"string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){t.data=i(t.data)}var r=s.get(t),c=this;if(!r||"function"!=typeof r.fixture){var l=function(){return c._xhr.open(c._xhr.type,c._xhr.url,c._xhr.async),c._requestHeaders&&Object.keys(c._requestHeaders).forEach(function(e){c._xhr.setRequestHeader(e,c._requestHeaders[e])}),c._xhr.send(e)};return r&&"number"==typeof r.fixture?(u.log("can-fixture: "+t.url+" => delay "+r.fixture+"ms"),void(this.timeoutId=setTimeout(l,r.fixture))):(r&&(u.log("can-fixture: "+t.url+" => "+r.url),o.assignMap(c,r)),l())}this.timeoutId=s.callDynamicFixture(t,r,function(e,n,t,r){n="string"==typeof n?n:JSON.stringify(n),c._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},o.assignMap(c,{readyState:4,status:e}),e>=200&&e<300||304===e?o.assignMap(c,{statusText:r||"OK",responseText:n}):o.assignMap(c,{statusText:r||"error",responseText:n}),c.getAllResponseHeaders=function(){var e=[];return o.eachKey(t||{},function(n,t){Array.prototype.push.apply(e,[t,": ",n,"\r\n"])}),e.join("")},c.onreadystatechange&&c.onreadystatechange({target:c}),a(c,"progress"),c.onprogress&&c.onprogress(),a(c,"load"),c.onload&&c.onload(),a(c,"loadend"),c.onloadend&&c.onloadend()})}}),f.forEach(function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(n){try{this._xhr[e]=n}catch(e){}}})})}(function(){return this}(),e)}),define("can-fixture@3.0.0#fixture",["require","exports","module","./core","./store","./xhr","can-reflect","can-namespace"],function(e,n,t){"use strict";var r=e("./core"),a=r.add,s=e("./store");e("./xhr");var i=e("can-reflect"),o=e("can-namespace"),u=function(){};i.assignMap(a,{rand:function e(n,t,r){if("number"==typeof n)return"number"==typeof t?n+Math.floor(Math.random()*(t-n+1)):Math.floor(Math.random()*(n+1));var a=n.slice(0);void 0===t?(t=1,r=a.length):void 0===r&&(r=t);for(var s=[],i=t+Math.round(e(r-t)),o=0;o<i;o++){var u=e(a.length-1),c=a.splice(u,1)[0];s.push(c)}return s},xhr:function(e){return i.assignMap({},{abort:u,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:u,overrideMimeType:u,readyState:4,responseText:"",responseXML:null,send:u,setRequestHeader:u,status:200,statusText:"OK"},e)},store:s.make,fixtures:r.fixtures}),"undefined"!=typeof window&&"function"!=typeof e.resolve&&(window.fixture=a),t.exports=o.fixture=a}),define("spectre-canjs@3.6.1#sp-form/demo/full/fixtures",["can-fixture@3.0.0#fixture"],function(e){"use strict";function n(e){var n=new FileReader;return n.readAsDataURL(e),n.onerror=function(e){console.log("Error: ",e)},n}var t=function(e){return e&&e.__esModule?e:{default:e}}(e);t.default.delay=2e3,(0,t.default)({method:"POST",url:"/upload"},function(e,t,r,a){try{var s=Array.from(e.data.entries()).filter(function(e){return"uri"===e[0]})[0][1],i=n(s);i.onload=function(){t({uri:i.result,id:s.name},{"content-type":"application/json"})}}catch(e){dev.warn(e)}}),(0,t.default)({method:"DELETE",url:"/upload/{id}"},function(e,n,t,r){console.warn(e),n({result:"success"})})}),define("spectre-canjs@3.6.1#sp-form/demo/full/full",["exports","spectre-canjs@3.6.1#sp-form/demo/full/full.stache!steal-stache@4.1.2#steal-stache","json-pretty-html@1.1.2#dist/bundle","flatpickr@4.5.2#dist/flatpickr","can-define@2.6.3#map/map","spectre-canjs@3.6.1#sp-form/sp-form","spectre-canjs@3.6.1#sp-form/fields/sp-text-field/sp-text-field","spectre-canjs@3.6.1#sp-form/fields/sp-select-field/sp-select-field","spectre-canjs@3.6.1#sp-form/fields/sp-dropzone-field/sp-dropzone-field","spectre-canjs@3.6.1#sp-form/fields/sp-subform-field/sp-subform-field","spectre-canjs@3.6.1#sp-form/fields/sp-check-field/sp-check-field","spectre-canjs@3.6.1#sp-form/demo/full/full.less!steal-less@1.3.1#less","flatpickr@4.5.2#dist/flatpickr.css!steal-css@1.3.2#css","spectre-canjs@3.6.1#sp-form/demo/full/fixtures","can-component@4.4.2#can-component","can-component@4.4.2#control/control","can-control@4.2.0#can-control","can-construct@3.5.3#can-construct","can-reflect@1.17.5#can-reflect","can-reflect@1.17.5#reflections/call/call","can-symbol@1.6.1#can-symbol","can-namespace@1.0.0#can-namespace","can-reflect@1.17.5#reflections/type/type","can-reflect@1.17.5#reflections/helpers","can-reflect@1.17.5#reflections/get-set/get-set","can-reflect@1.17.5#reflections/observe/observe","can-reflect@1.17.5#reflections/shape/shape","can-reflect@1.17.5#reflections/shape/schema/schema","can-reflect@1.17.5#reflections/get-name/get-name","can-reflect@1.17.5#types/map","can-reflect@1.17.5#types/set","can-log@1.0.0#dev/dev","can-log@1.0.0#can-log","can-string@1.0.0#can-string","can-assign@1.3.1#can-assign","can-stache-key@1.4.0#can-stache-key","can-observation-recorder@1.2.0#can-observation-recorder","can-reflect-promise@2.1.0#can-reflect-promise","can-queues@1.1.3#can-queues","can-queues@1.1.3#queue","can-queues@1.1.3#queue-state","can-queues@1.1.3#priority-queue","can-queues@1.1.3#completion-queue","can-key-tree@1.2.0#can-key-tree","can-observation@4.1.0#can-observation","can-event-queue@1.1.0#value/value","can-define-lazy-value@1.1.0#define-lazy-value","can-event-queue@1.1.0#dependency-record/merge","can-observation@4.1.0#recorder-dependency-helpers","can-observation@4.1.0#temporarily-bind","can-event-queue@1.1.0#map/map","can-dom-events@1.3.0#can-dom-events","can-dom-events@1.3.0#helpers/util","can-globals@1.2.0#document/document","can-globals@1.2.0#global/global","can-globals@1.2.0#can-globals-instance","can-globals@1.2.0#can-globals-proto","can-globals@1.2.0#is-browser-window/is-browser-window","can-globals@1.2.0#is-node/is-node","can-dom-events@1.3.0#helpers/make-event-registry","can-dom-events@1.3.0#helpers/-make-delegate-event-tree","can-key@1.2.0#get/get","can-key@1.2.0#utils","can-dom-mutate@1.2.1#can-dom-mutate","can-globals@1.2.0#can-globals","can-globals@1.2.0#location/location","can-globals@1.2.0#mutation-observer/mutation-observer","can-globals@1.2.0#custom-elements/custom-elements","can-dom-mutate@1.2.1#-util","can-bind@1.0.0#can-bind","can-reflect-dependencies@1.1.0#can-reflect-dependencies","can-reflect-dependencies@1.1.0#src/add-mutated-by","can-reflect-dependencies@1.1.0#src/delete-mutated-by","can-reflect-dependencies@1.1.0#src/get-dependency-data-of","can-reflect-dependencies@1.1.0#src/is-function","can-stache@4.12.0#can-stache","can-view-parser@4.1.0#can-view-parser","can-attribute-encoder@1.1.0#can-attribute-encoder","can-view-callbacks@4.3.1#can-view-callbacks","can-dom-mutate@1.2.1#node","can-view-nodelist@4.3.2#can-view-nodelist","can-fragment@1.2.0#can-fragment","can-child-nodes@1.2.0#can-child-nodes","can-stache@4.12.0#src/html_section","can-view-target@4.1.0#can-view-target","can-view-scope@4.9.1#can-view-scope","can-view-scope@4.9.1#template-context","can-simple-map@4.3.0#can-simple-map","can-view-scope@4.9.1#compute_data","can-view-scope@4.9.1#scope-key-data","can-view-scope@4.9.1#make-compute-like","can-single-reference@1.2.0#can-single-reference","can-cid@1.3.0#can-cid","can-stache-helpers@1.2.0#can-stache-helpers","can-stache@4.12.0#src/utils","can-stache@4.12.0#src/key-observable","can-simple-observable@2.3.0#settable/settable","can-simple-observable@2.3.0#can-simple-observable","can-simple-observable@2.3.0#log","can-stache@4.12.0#src/text_section","can-view-live@4.2.2#can-view-live","can-view-live@4.2.2#lib/core","can-view-live@4.2.2#lib/attr","can-attribute-observable@1.1.3#behaviors","can-dom-data-state@1.0.2#can-dom-data-state","can-diff@1.4.2#list/list","can-view-live@4.2.2#lib/attrs","can-view-live@4.2.2#lib/html","can-view-live@4.2.2#lib/list","can-view-live@4.2.2#lib/set-observable","can-diff@1.4.2#patcher/patcher","can-view-live@4.2.2#lib/text","can-stache@4.12.0#src/mustache_core","can-stache@4.12.0#src/expression","can-stache@4.12.0#expressions/arg","can-stache@4.12.0#expressions/literal","can-stache@4.12.0#expressions/hashes","can-stache@4.12.0#src/expression-helpers","can-simple-observable@2.3.0#setter/setter","can-stache@4.12.0#expressions/bracket","can-stache@4.12.0#expressions/call","can-stache@4.12.0#src/set-identifier","can-stache@4.12.0#expressions/helper","can-stache@4.12.0#expressions/lookup","can-stache@4.12.0#helpers/core","can-globals@1.2.0#base-url/base-url","can-join-uris@1.2.0#can-join-uris","can-parse-uri@1.2.0#can-parse-uri","can-stache@4.12.0#helpers/-debugger","can-stache@4.12.0#src/truthy-observable","can-dom-data@1.0.1#can-dom-data","can-stache@4.12.0#helpers/-for-of","can-stache@4.12.0#helpers/-let","can-stache@4.12.0#helpers/converter","can-stache-ast@1.0.0#can-stache-ast","can-stache-ast@1.0.0#controls","can-import-module@1.2.0#can-import-module","can-stache-bindings@4.4.1#can-stache-bindings","can-view-model@4.0.1#can-view-model","can-attribute-observable@1.1.3#can-attribute-observable","can-attribute-observable@1.1.3#event","can-attribute-observable@1.1.3#get-event-name","can-event-dom-radiochange@2.2.0#can-event-dom-radiochange","can-define@2.6.3#list/list","can-define@2.6.3#can-define","can-simple-observable@2.3.0#async/async","can-simple-observable@2.3.0#resolver/resolver","can-event-queue@1.1.0#type/type","can-string-to-any@1.2.0#can-string-to-any","can-data-types@1.2.0#maybe-boolean/maybe-boolean","can-data-types@1.2.0#maybe-date/maybe-date","can-data-types@1.2.0#maybe-number/maybe-number","can-data-types@1.2.0#maybe-string/maybe-string","can-define@2.6.3#define-helpers/define-helpers","can-define@2.6.3#ensure-meta","spectre-canjs@3.6.1#sp-form/template.stache!steal-stache@4.1.2#steal-stache","can-view-import@4.2.0#can-view-import","spectre-canjs@3.6.1#sp-form/ViewModel","spectre-canjs@3.6.1#util/field/base/FieldIteratorMap","spectre-canjs@3.6.1#util/field/parseFieldArray/parseFieldArray","spectre-canjs@3.6.1#util/field/Field","spectre-canjs@3.6.1#util/string/string","spectre-canjs@3.6.1#util/field/fieldComponents","spectre-canjs@3.6.1#util/field/mapToFields/mapToFields","spectre-canjs@3.6.1#sp-form/widget.less!steal-less@1.3.1#less","spectre-canjs@3.6.1#sp-form/fields/sp-text-field/sp-text-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.6.1#sp-form/fields/sp-text-field/ViewModel","spectre-canjs@3.6.1#sp-form/fields/sp-select-field/sp-select-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.6.1#sp-form/fields/sp-select-field/ViewModel","spectre-canjs@3.6.1#sp-form/fields/sp-dropzone-field/sp-dropzone-field.less!steal-less@1.3.1#less","spectre-canjs@3.6.1#sp-form/fields/sp-dropzone-field/sp-dropzone-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.6.1#sp-file-list/sp-file-list","spectre-canjs@3.6.1#sp-file-list/sp-file-list.less!steal-less@1.3.1#less","spectre-canjs@3.6.1#sp-file-list/sp-file-list.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.6.1#sp-file-list/ViewModel","dropzone@5.5.1#dist/dropzone.css!steal-css@1.3.2#css","dropzone@5.5.1#dist/basic.css!steal-css@1.3.2#css","spectre-canjs@3.6.1#sp-form/fields/sp-dropzone-field/ViewModel","dropzone@5.5.1#dist/dropzone","axios@0.18.0#index","axios@0.18.0#lib/axios","axios@0.18.0#lib/utils","axios@0.18.0#lib/helpers/bind","is-buffer@1.1.6#index","axios@0.18.0#lib/core/Axios","axios@0.18.0#lib/defaults","axios@0.18.0#lib/helpers/normalizeHeaderName","axios@0.18.0#lib/adapters/xhr","axios@0.18.0#lib/core/settle","axios@0.18.0#lib/core/createError","axios@0.18.0#lib/core/enhanceError","axios@0.18.0#lib/helpers/buildURL","axios@0.18.0#lib/helpers/parseHeaders","axios@0.18.0#lib/helpers/isURLSameOrigin","axios@0.18.0#lib/helpers/btoa","axios@0.18.0#lib/helpers/cookies","axios@0.18.0#lib/core/InterceptorManager","axios@0.18.0#lib/core/dispatchRequest","axios@0.18.0#lib/core/transformData","axios@0.18.0#lib/cancel/isCancel","axios@0.18.0#lib/helpers/isAbsoluteURL","axios@0.18.0#lib/helpers/combineURLs","axios@0.18.0#lib/cancel/Cancel","axios@0.18.0#lib/cancel/CancelToken","axios@0.18.0#lib/helpers/spread","spectre-canjs@3.6.1#sp-form/fields/sp-subform-field/sp-subform-field.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.6.1#sp-form/fields/sp-subform-field/sp-subform-field.less!steal-less@1.3.1#less","spectre-canjs@3.6.1#sp-form/fields/sp-subform-field/ViewModel","spectre-canjs@3.6.1#sp-form/fields/sp-check-field/template.stache!steal-stache@4.1.2#steal-stache","spectre-canjs@3.6.1#sp-form/fields/sp-check-field/ViewModel","can-fixture@3.0.0#fixture","can-fixture@3.0.0#core","can-key@1.2.0#sub/sub","can-key@1.2.0#delete/delete","can-fixture@3.0.0#matches","can-query-logic@1.1.1#src/set","can-fixture@3.0.0#data-from-url","can-query-logic@1.1.1#can-query-logic","can-query-logic@1.1.1#src/serializers/basic-query","can-query-logic@1.1.1#src/types/basic-query","can-query-logic@1.1.1#src/types/make-real-number-range-inclusive","can-query-logic@1.1.1#src/types/comparisons","can-query-logic@1.1.1#src/array-union-intersection-difference","can-query-logic@1.1.1#src/types/and-or-not","can-query-logic@1.1.1#src/types/values-or","can-query-logic@1.1.1#src/types/types","can-query-logic@1.1.1#src/types/values-not","can-query-logic@1.1.1#src/types/keys-and","can-query-logic@1.1.1#src/helpers","can-query-logic@1.1.1#src/serializers/comparisons","can-query-logic@1.1.1#src/serializer","can-query-logic@1.1.1#src/types/make-maybe","can-query-logic@1.1.1#src/schema-helpers","can-query-logic@1.1.1#src/types/make-enum","can-fixture@3.0.0#store","can-memory-store@1.0.0#can-memory-store","can-memory-store@1.0.0#make-simple-store","can-fixture@3.0.0#xhr","can-deparam@1.2.0#can-deparam"],function(e,n,t,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(n),o=s(t),u=s(r),c=s(a),l=c.default.extend("ChildDemoObject",{json_field_1:"string",json_field_2:{validate:function(e){return 2!=e.value?"The value must be 2":void 0},default:2,editTag:"sp-select-field",defaultLabel:"These values are loading asynchronously!",optionsPromise:new Promise(function(e){setTimeout(function(){e([{value:1,label:"Option 1"},{value:2,label:"Option 2"}])},5e3)})},json_field_3:{type:"number",validate:function(e){var n=parseInt(e.value,10);return!n||n<10?"Please enter a value greater than 10":void 0}},json_field_4:{type:"boolean",editTag:"sp-check-field",style:"switch",serialize:function(e){return String(e)},validate:function(e){return console.log(e.value),e.value?"":"You must agree to these terms"}}}),f=c.default.extend("DemoObject",{field1:{type:"string",default:"Default Value",name:"field1",alias:"Please enter at least 50 characters",validate:function(e){return e.dirty.assign({field1Length:e.value?e.value.length:0}),e.value.length<50&&"This field must contain at least 50 characters"}},field2:{type:"string",name:"field2",alias:"A basic textarea field",textarea:!0,placeholder:"Enter the text: hello",validate:function(e){return"hello"!=e.value?'This field must contain the text, "hello"':""}},field3:{type:"number",default:1,name:"field3",alias:"A select dropdown",editTag:"sp-select-field",validate:function(e){if(1!=e.value)return"This field must be 1"},options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},field3inline:{type:"number",default:1,name:"field3inline",alias:"Inline dropdown",editTag:"sp-select-field",inline:!0,validate:function(e){if(1!=e.value)return"This field must be 1"},options:[{value:1,label:"Option 1"},{value:2,label:"Option 2"}]},field4:{type:"date",serialize:function(e){return e?e.toDateString():"Not set"},name:"field4",onInsert:function(e){var n=(0,u.default)(e);return function(){n.destroy()}},alias:"A date field",ui:"datepicker",placeholder:"Enter a date..."},field6:{Type:l,name:"field6",alias:"A Subform Field",editTag:"sp-subform-field",Default:l,ObjectTemplate:l},field1Length:{edit:!1,type:"number"},field7:{type:"boolean",name:"field7",alias:"A checkbox",editTag:"sp-check-field",default:!1},cascade_1:{type:"string",name:"cascade_1",alias:"Car Make - (cascade dropdown 1)",defaultLabel:"First choose a make...",options:[{value:"Ford"},{value:"Chevy"},{value:"Toyota"}],editTag:"sp-select-field"},cascade_2:{type:"string",name:"cascade_2",alias:"Car Model - (cascade dropdown 2)",defaultLabel:"Then choose a model...",getOptions:function(e){return{Ford:[{value:"Fiesta"},{value:"Focus"},{value:"Taurus"}],Chevy:[{value:"Spark"},{value:"Sonic"},{value:"Bolt"}],Toyota:[{value:"Prius"},{value:"Corolla"},{value:"Camry"}]}[e.cascade_1]||[{value:"None",label:"Choose a make first..."}]},validate:function(e){if(!e.dirty.cascade_1)return"You need to choose a make first"},editTag:"sp-select-field"}}),d=new c.default({object:new f,formSaving:!1,onSubmit:function(){var e=this;console.log(this.object),console.log("submitted data: ",this.object.serialize()),alert("Form submitted! See the console for details"),setTimeout(function(){e.formSaving=!1},3e3)},onCancel:function(){console.log("Form canceled!")},stringify:function(e){if(e)return(0,o.default)(e.serialize())}});e.default=function(){var e=(0,i.default)(d);document.body.appendChild(e)}});
//# sourceMappingURL=full.js.map